<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IA WebGen - Cr√©ateur de Sites Web Automatis√©</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<style>
.gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
.card-hover:hover { transform: translateY(-5px); transition: transform 0.3s ease; }
.fade-in { animation: fadeIn 0.8s ease-in; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
.preview-section { display: none; }
.auth-section { display: none; }
.modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); }
.modal-content { background-color: white; margin: 2% auto; padding: 20px; border-radius: 10px; width: 95%; max-width: 1200px; max-height: 95vh; overflow-y: auto; }
.notification { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 1001; display: none; }
.share-widget { position: fixed; bottom: 20px; right: 20px; z-index: 100; }
.quality-templates { display: none; }
.photo-upload-area { border: 2px dashed #cbd5e0; border-radius: 8px; padding: 20px; text-align: center; transition: all 0.3s; }
.photo-upload-area:hover { border-color: #3b82f6; background-color: #f0f9ff; }
.photo-upload-area.drag-over { border-color: #10b981; background-color: #f0fdf4; }
.template-card { cursor: pointer; transition: all 0.3s; border: 3px solid transparent; }
.template-card:hover { transform: scale(1.02); box-shadow: 0 10px 25px rgba(0,0,0,0.15); }
.template-card.selected { border: 3px solid #10b981; background: #f0fdf4; }
.premium-badge { position: absolute; top: -8px; right: -8px; background: linear-gradient(45deg, #ffd700, #ffed4e); color: #1f2937; padding: 4px 8px; border-radius: 12px; font-size: 0.7rem; font-weight: bold; }
.preview-frame { border: 2px solid #e5e7eb; border-radius: 12px; overflow: hidden; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
.page-tab { padding: 8px 16px; margin: 2px; border-radius: 6px; cursor: pointer; transition: all 0.3s; background: #f3f4f6; }
.page-tab.active { background: #3b82f6; color: white; }
.page-tab:hover { background: #e5e7eb; }
.page-tab.active:hover { background: #2563eb; }
.checkbox-group { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; }
.checkbox-item { display: flex; align-items: center; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px; cursor: pointer; transition: all 0.3s; }
.checkbox-item:hover { background: #f9fafb; border-color: #3b82f6; }
.checkbox-item input:checked + .checkbox-item { background: #eff6ff; border-color: #3b82f6; }
.loading-spinner { display: none; }
.email-section { display: none; }
.edit-mode .editable {
  position: relative;
  border: 2px dashed #3b82f6 !important;
  cursor: pointer;
}
.edit-mode .editable:hover {
  background-color: rgba(59, 130, 246, 0.1) !important;
}
.edit-toolbar {
  position: absolute;
  top: -40px;
  left: 0;
  background: #1f2937;
  border-radius: 6px;
  padding: 5px;
  display: flex;
  gap: 5px;
  z-index: 1000;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
}
.edit-btn {
  background: #3b82f6;
  color: white;
  border: none;
  padding: 5px 8px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
}
.edit-btn:hover {
  background: #2563eb;
}
.mini-chatgpt {
  position: fixed;
  bottom: 20px;
  left: 20px;
  width: 350px;
  height: 500px;
  background: white;
  border-radius: 15px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
  z-index: 2000;
  display: none;
  flex-direction: column;
  overflow: hidden;
}
.mini-chatgpt.minimized {
  height: 60px;
}
.chatgpt-header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 15px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
}
.chatgpt-body {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}
.chatgpt-messages {
  flex: 1;
  padding: 15px;
  overflow-y: auto;
  background: #f8fafc;
}
.chatgpt-input-area {
  padding: 15px;
  border-top: 1px solid #e5e7eb;
  background: white;
}
.chatgpt-input {
  width: 100%;
  padding: 12px;
  border: 1px solid #d1d5db;
  border-radius: 8px;
  resize: none;
  font-family: inherit;
}
.message {
  margin-bottom: 15px;
  padding: 10px;
  border-radius: 10px;
  max-width: 80%;
}
.message.user {
  background: #3b82f6;
  color: white;
  margin-left: auto;
  text-align: right;
}
.message.bot {
  background: white;
  border: 1px solid #e5e7eb;
}
.chatgpt-toggle {
  position: fixed;
  bottom: 20px;
  left: 20px;
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 1999;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  color: white;
  font-size: 24px;
}
.image-search-result {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 10px;
  margin-top: 10px;
}
.image-search-result img {
  width: 100%;
  height: 80px;
  object-fit: cover;
  border-radius: 6px;
  cursor: pointer;
  border: 2px solid transparent;
}
.image-search-result img:hover {
  border-color: #3b82f6;
}
</style>
</head>
<body class="font-sans">
<!-- Notification -->
<div id="notification" class="notification bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg">
<span id="notificationText">Message</span>
</div>

<!-- Widget de partage -->
<div class="share-widget">
<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full shadow-lg p-3 relative">
<button onclick="toggleShareMenu()" class="flex items-center space-x-2 text-sm font-medium">
<i class="fas fa-share-alt"></i>
<span>Partager = -10%</span>
</button>
<div id="shareMenu" class="hidden absolute bottom-full right-0 mb-2 bg-white rounded-lg shadow-xl p-3 min-w-48">
<p class="text-gray-800 text-xs font-bold mb-2">üéÅ Partagez et √©conomisez 10% !</p>
<div class="flex gap-2">
<button onclick="shareOnFacebook()" class="bg-blue-600 text-white p-2 rounded hover:bg-blue-700 text-xs">
<i class="fab fa-facebook-f"></i>
</button>
<button onclick="shareOnTwitter()" class="bg-blue-400 text-white p-2 rounded hover:bg-blue-500 text-xs">
<i class="fab fa-twitter"></i>
</button>
<button onclick="shareOnWhatsApp()" class="bg-green-500 text-white p-2 rounded hover:bg-green-600 text-xs">
<i class="fab fa-whatsapp"></i>
</button>
<button onclick="copyLink()" class="bg-gray-600 text-white p-2 rounded hover:bg-gray-700 text-xs">
<i class="fas fa-link"></i>
</button>
</div>
<p class="text-gray-600 text-xs mt-2">Code: SHARE10</p>
</div>
</div>
</div>

<!-- Mini ChatGPT Toggle Button -->
<div id="chatgptToggle" class="chatgpt-toggle" onclick="toggleChatGPT()">
<i class="fas fa-robot"></i>
</div>

<!-- Mini ChatGPT Widget -->
<div id="miniChatGPT" class="mini-chatgpt">
<div class="chatgpt-header" onclick="toggleChatGPTSize()">
<div>
<h3 style="margin: 0; font-size: 16px;"><i class="fas fa-robot mr-2"></i>Assistant IA</h3>
<p style="margin: 0; font-size: 12px; opacity: 0.8;">Recherche web & assistance</p>
</div>
<div>
<button onclick="toggleChatGPTSize()" style="background: none; border: none; color: white; font-size: 16px;">
<i id="chatgptSizeIcon" class="fas fa-minus"></i>
</button>
<button onclick="closeChatGPT()" style="background: none; border: none; color: white; font-size: 16px; margin-left: 10px;">
<i class="fas fa-times"></i>
</button>
</div>
</div>
<div class="chatgpt-body">
<div id="chatgptMessages" class="chatgpt-messages">
<div class="message bot">
<strong>ü§ñ Assistant IA</strong><br>
Salut ! Je peux t'aider √† :<br>
‚Ä¢ Modifier le site apr√®s pr√©visualisation<br>
‚Ä¢ Chercher des images : tapez "/image [description]"<br>
‚Ä¢ R√©pondre √† tes questions<br>
‚Ä¢ Sugg√©rer des am√©liorations<br><br>
Comment puis-je t'aider ?
</div>
</div>
<div class="chatgpt-input-area">
<textarea id="chatgptInput" class="chatgpt-input" placeholder="Tapez votre message... (Ex: /image restaurant moderne)" rows="3"></textarea>
<button onclick="sendChatGPTMessage()" style="margin-top: 10px; width: 100%; background: #3b82f6; color: white; border: none; padding: 10px; border-radius: 6px; cursor: pointer;">
<i class="fas fa-paper-plane mr-2"></i>Envoyer
</button>
</div>
</div>
</div>

<!-- Application principale -->
<div id="app">
<p>Application en cours de chargement...</p>
</div>

<script>
// Variables globales
let websiteData = {};
let selectedTemplate = null;
let currentPage = 'accueil';
let generatedPages = {};
let editMode = false;
let chatGPTOpen = false;
let chatGPTMinimized = false;

// Configuration BACKEND_URL 
const BACKEND_URL = 'http://localhost:8001';

console.log('üöÄ IA WebGen Pro - Version corrig√©e initialis√©e');

// ========== FONCTIONS CHATGPT ==========
function toggleChatGPT() {
const chatgpt = document.getElementById('miniChatGPT');
const toggle = document.getElementById('chatgptToggle');

chatGPTOpen = !chatGPTOpen;
if (chatGPTOpen) {
chatgpt.style.display = 'flex';
toggle.style.display = 'none';
} else {
chatgpt.style.display = 'none';
toggle.style.display = 'flex';
}
}

function closeChatGPT() {
chatGPTOpen = false;
document.getElementById('miniChatGPT').style.display = 'none';
document.getElementById('chatgptToggle').style.display = 'flex';
}

function toggleChatGPTSize() {
const chatgpt = document.getElementById('miniChatGPT');
const icon = document.getElementById('chatgptSizeIcon');

chatGPTMinimized = !chatGPTMinimized;
if (chatGPTMinimized) {
chatgpt.classList.add('minimized');
icon.className = 'fas fa-plus';
} else {
chatgpt.classList.remove('minimized');
icon.className = 'fas fa-minus';
}
}

async function sendChatGPTMessage() {
const input = document.getElementById('chatgptInput');
const message = input.value.trim();
if (!message) return;

addChatMessage(message, 'user');
input.value = '';

// Traitement sp√©cial pour les commandes /image
if (message.startsWith('/image ')) {
const query = message.substring(7);
await searchImages(query);
} else {
// R√©ponse normale
setTimeout(() => {
let response = "Je peux t'aider ! Utilise '/image [description]' pour chercher des images.";
addChatMessage(response, 'bot');
}, 1000);
}
}

function addChatMessage(message, sender) {
const messagesContainer = document.getElementById('chatgptMessages');
const messageEl = document.createElement('div');
messageEl.className = `message ${sender}`;

if (sender === 'user') {
messageEl.innerHTML = message;
} else {
messageEl.innerHTML = `<strong>ü§ñ Assistant IA</strong><br>${message}`;
}

messagesContainer.appendChild(messageEl);
messagesContainer.scrollTop = messagesContainer.scrollHeight;
}

// Recherche d'images via API backend
async function searchImages(query) {
addChatMessage(`üîç Recherche d'images pour: "${query}"...`, 'bot');

try {
const response = await fetch(`${BACKEND_URL}/api/images/search`, {
method: 'POST',
headers: {
'Content-Type': 'application/json',
},
body: JSON.stringify({ query: query })
});

if (!response.ok) {
throw new Error(`HTTP error! status: ${response.status}`);
}

const data = await response.json();
console.log('Images re√ßues:', data);

if (data.success && data.images && data.images.length > 0) {
let imageResults = '<div class="image-search-result">';
data.images.forEach((image, index) => {
imageResults += `
<div class="image-item" style="position: relative; border-radius: 8px; overflow: hidden;">
<img src="${image.small_url}" alt="${image.alt_description}" 
     style="width: 100%; height: 120px; object-fit: cover; cursor: pointer;"
     onclick="selectSearchedImage('${image.url}', '${image.description}', '${image.id}')">
<div class="image-overlay" style="position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(transparent, rgba(0,0,0,0.7)); color: white; padding: 8px; font-size: 12px;">
${image.description}
</div>
</div>
`;
});
imageResults += '</div>';

addChatMessage(`üì∏ Images pour "${query}" :<br>Clique sur une image pour l'utiliser !<br><br>${imageResults}`, 'bot');
} else {
addChatMessage(`‚ùå Aucune image trouv√©e pour "${query}".`, 'bot');
}
} catch (error) {
console.error('Erreur recherche d\'images:', error);
addChatMessage('‚ùå Erreur lors de la recherche d\'images. Backend indisponible.', 'bot');
}
}

function selectSearchedImage(imageUrl, description, imageId) {
alert(`Image s√©lectionn√©e: ${description}. Fonctionnalit√© d'application en cours de finalisation.`);
}

// ========== MODE √âDITION ==========
function toggleEditMode() {
editMode = !editMode;
const editModeBtn = document.getElementById('editModeBtn');
const editModeStatus = document.getElementById('editModeStatus');

if (editMode) {
if (editModeBtn) editModeBtn.classList.add('bg-orange-500');
if (editModeStatus) editModeStatus.textContent = 'Activ√©';
makeElementsEditable();
showNotification('‚úèÔ∏è Mode √©dition activ√© !');
} else {
if (editModeBtn) editModeBtn.classList.remove('bg-orange-500');
if (editModeStatus) editModeStatus.textContent = 'D√©sactiv√©';
removeEditableElements();
showNotification('‚úÖ Mode √©dition d√©sactiv√©.');
}
}

function makeElementsEditable() {
const editableElements = document.querySelectorAll('h1, h2, h3, p, span, button');
let count = 0;
editableElements.forEach(el => {
if (el.textContent && el.textContent.trim()) {
el.classList.add('editable');
el.addEventListener('click', handleElementClick);
count++;
}
});
console.log(`${count} √©l√©ments rendus √©ditables`);
}

function removeEditableElements() {
const editableElements = document.querySelectorAll('.editable');
editableElements.forEach(element => {
element.classList.remove('editable');
element.removeEventListener('click', handleElementClick);
});
}

function handleElementClick(event) {
if (!editMode) return;
event.preventDefault();
event.stopPropagation();

alert('√âdition en cours de d√©veloppement - fonctionnalit√© bient√¥t disponible');
}

// ========== FONCTIONS G√âN√âRALES ==========
function showNotification(message) {
const notification = document.getElementById('notification');
const text = document.getElementById('notificationText');
if (notification && text) {
text.textContent = message;
notification.style.display = 'block';
setTimeout(() => {
notification.style.display = 'none';
}, 3000);
}
console.log('üì¢', message);
}

function toggleShareMenu() {
const shareMenu = document.getElementById('shareMenu');
if (shareMenu) {
shareMenu.classList.toggle('hidden');
}
}

function shareOnFacebook() {
const url = encodeURIComponent(window.location.href);
window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`, '_blank');
}

function shareOnTwitter() {
const url = encodeURIComponent(window.location.href);
const text = encodeURIComponent('Cr√©ez votre site web professionnel avec IA WebGen Pro !');
window.open(`https://twitter.com/intent/tweet?url=${url}&text=${text}`, '_blank');
}

function shareOnWhatsApp() {
const url = encodeURIComponent(window.location.href);
const text = encodeURIComponent('D√©couvrez IA WebGen Pro pour cr√©er votre site web professionnel !');
window.open(`https://wa.me/?text=${text} ${url}`, '_blank');
}

function copyLink() {
navigator.clipboard.writeText(window.location.href).then(() => {
showNotification('‚úÖ Lien copi√© !');
});
}

// ========== INITIALISATION ==========
document.addEventListener('DOMContentLoaded', function() {
console.log('‚úÖ IA WebGen Pro - Application simplifi√©e charg√©e');

// Configuration des touches du ChatGPT
const chatInput = document.getElementById('chatgptInput');
if (chatInput) {
chatInput.addEventListener('keypress', function(e) {
if (e.key === 'Enter' && !e.shiftKey) {
e.preventDefault();
sendChatGPTMessage();
}
});
}

// Interface simplifi√©e pour les tests
document.getElementById('app').innerHTML = `
<div class="min-h-screen bg-gray-100 p-8">
<div class="max-w-4xl mx-auto">
<h1 class="text-4xl font-bold text-center mb-8 text-gray-800">IA WebGen Pro - Tests Fonctionnalit√©s</h1>

<div class="grid md:grid-cols-2 gap-8">
<!-- Tests ChatGPT -->
<div class="bg-white p-6 rounded-lg shadow-lg">
<h2 class="text-2xl font-bold mb-4 text-blue-600">ü§ñ Tests ChatGPT</h2>
<p class="mb-4">1. Cliquez sur l'ic√¥ne robot en bas √† gauche</p>
<p class="mb-4">2. Tapez: <code>/image restaurant moderne</code></p>
<p class="mb-4">3. V√©rifiez que 4 images s'affichent</p>
<div class="bg-green-50 p-3 rounded">
<strong>‚úÖ Backend API:</strong> ${BACKEND_URL}/api/health
</div>
</div>

<!-- Tests Mode √âdition -->
<div class="bg-white p-6 rounded-lg shadow-lg">
<h2 class="text-2xl font-bold mb-4 text-purple-600">‚úèÔ∏è Tests Mode √âdition</h2>
<button id="editModeBtn" onclick="toggleEditMode()" class="w-full bg-purple-500 text-white py-3 rounded hover:bg-purple-600 mb-4">
Mode √âdition: <span id="editModeStatus">D√©sactiv√©</span>
</button>
<div id="testContent">
<h3>Titre √©ditable</h3>
<p>Ce paragraphe peut √™tre modifi√© en mode √©dition.</p>
<button class="bg-blue-500 text-white px-4 py-2 rounded">Bouton test</button>
</div>
</div>

<!-- Tests Ajout Section -->
<div class="bg-white p-6 rounded-lg shadow-lg">
<h2 class="text-2xl font-bold mb-4 text-green-600">‚ûï Tests Ajout Section</h2>
<button onclick="addNewSection()" class="w-full bg-green-500 text-white py-3 rounded hover:bg-green-600 mb-4">
Ajouter une section
</button>
<div id="newSections"></div>
</div>

<!-- Tests API Backend -->
<div class="bg-white p-6 rounded-lg shadow-lg">
<h2 class="text-2xl font-bold mb-4 text-red-600">üîß Tests API Backend</h2>
<button onclick="testBackendAPI()" class="w-full bg-red-500 text-white py-3 rounded hover:bg-red-600 mb-4">
Tester API Backend
</button>
<div id="apiResults" class="bg-gray-50 p-3 rounded min-h-20"></div>
</div>
</div>
</div>
</div>
`;

showNotification('‚úÖ Interface de test charg√©e - Pr√™t pour validation !');
});

// ========== FONCTIONS DE TEST ==========
function addNewSection() {
const container = document.getElementById('newSections');
const newSection = document.createElement('div');
newSection.className = 'bg-blue-50 p-4 rounded mb-4 border border-blue-200';
newSection.innerHTML = `
<h4 class="font-bold text-blue-800">Nouvelle section ajout√©e</h4>
<p class="text-blue-600">Section cr√©√©e le ${new Date().toLocaleTimeString()}</p>
<button onclick="this.parentElement.remove()" class="bg-red-500 text-white px-2 py-1 rounded text-sm mt-2">Supprimer</button>
`;
container.appendChild(newSection);
showNotification('‚úÖ Nouvelle section ajout√©e !');
}

async function testBackendAPI() {
const resultsDiv = document.getElementById('apiResults');
resultsDiv.innerHTML = '<p>üîÑ Test en cours...</p>';

try {
// Test 1: Health check
const healthResponse = await fetch(`${BACKEND_URL}/api/health`);
const healthData = await healthResponse.json();

// Test 2: Image search
const imageResponse = await fetch(`${BACKEND_URL}/api/images/search`, {
method: 'POST',
headers: { 'Content-Type': 'application/json' },
body: JSON.stringify({ query: 'restaurant' })
});
const imageData = await imageResponse.json();

resultsDiv.innerHTML = `
<div class="text-sm">
<p class="text-green-600">‚úÖ Health Check: ${healthData.status}</p>
<p class="text-green-600">‚úÖ Image Search: ${imageData.success ? imageData.images.length + ' images' : '√âchec'}</p>
<p class="text-blue-600">üîó Backend URL: ${BACKEND_URL}</p>
</div>
`;
} catch (error) {
resultsDiv.innerHTML = `<p class="text-red-600">‚ùå Erreur: ${error.message}</p>`;
}
}

// Gestion des erreurs
window.addEventListener('error', function(e) {
console.error('Erreur JavaScript:', e.error);
});

console.log('üéâ Toutes les fonctions charg√©es - Application pr√™te pour les tests');

// ========== SAVE TO GITHUB BUTTON ==========
function createGitHubSaveButton() {
const saveBtn = document.createElement('div');
saveBtn.id = 'githubSaveBtn';
saveBtn.className = 'fixed bottom-20 right-6 z-50';
saveBtn.innerHTML = `
<button onclick="openGitHubSaveModal()" class="bg-gradient-to-r from-gray-800 to-black text-white px-6 py-3 rounded-full shadow-2xl hover:shadow-3xl transform hover:-translate-y-1 transition-all duration-300 flex items-center space-x-3 font-bold">
<i class="fab fa-github text-xl"></i>
<span>Save to GitHub</span>
</button>
`;
document.body.appendChild(saveBtn);
}

function openGitHubSaveModal() {
// Cr√©er le modal
const modal = document.createElement('div');
modal.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4';
modal.innerHTML = `
<div class="bg-white rounded-2xl max-w-2xl w-full max-h-90vh overflow-y-auto">
<!-- Header -->
<div class="bg-gradient-to-r from-gray-800 to-black text-white p-6 rounded-t-2xl">
<div class="flex justify-between items-center">
<div>
<h2 class="text-2xl font-bold flex items-center">
<i class="fab fa-github text-3xl mr-3"></i>
Save to GitHub
</h2>
<p class="text-gray-300 mt-1">Deploy your IA WebGen Pro to GitHub repository</p>
</div>
<button onclick="closeGitHubModal()" class="text-white hover:bg-white hover:bg-opacity-20 p-2 rounded-full">
<i class="fas fa-times text-xl"></i>
</button>
</div>
</div>

<!-- Content -->
<div class="p-6">
<!-- Quick Deploy Section -->
<div class="bg-green-50 border border-green-200 rounded-lg p-4 mb-6">
<h3 class="text-lg font-bold text-green-800 mb-3">
<i class="fas fa-rocket mr-2"></i>Quick Deploy (Recommended)
</h3>
<p class="text-green-700 mb-4">Fastest way to get your project on GitHub!</p>
<div class="grid gap-3">
<button onclick="executeQuickDeploy()" class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-lg transition-colors">
<i class="fas fa-magic mr-2"></i>
Auto-Deploy to GitHub
</button>
<p class="text-xs text-green-600">
Will create repository, commit files, and push automatically
</p>
</div>
</div>

<!-- Manual Configuration -->
<div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
<h3 class="text-lg font-bold text-blue-800 mb-3">
<i class="fas fa-cog mr-2"></i>Manual Configuration
</h3>
<div class="space-y-4">
<div>
<label class="block text-sm font-bold text-gray-700 mb-2">GitHub Username:</label>
<input type="text" id="githubUsername" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="your-username">
</div>
<div>
<label class="block text-sm font-bold text-gray-700 mb-2">Repository Name:</label>
<input type="text" id="repoName" class="w-full p-3 border border-gray-300 rounded-lg" value="ia-webgen-pro">
</div>
<div>
<label class="block text-sm font-bold text-gray-700 mb-2">Description:</label>
<textarea id="repoDescription" class="w-full p-3 border border-gray-300 rounded-lg h-20" placeholder="üöÄ G√©n√©rateur de sites web avec IA, ChatGPT int√©gr√© et mode √©dition complet">üöÄ G√©n√©rateur de sites web avec IA, ChatGPT int√©gr√© et mode √©dition complet</textarea>
</div>
<div class="flex items-center">
<input type="checkbox" id="isPrivate" class="mr-2">
<label for="isPrivate" class="text-sm text-gray-700">Private repository</label>
</div>
<button onclick="executeManualDeploy()" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg transition-colors">
<i class="fab fa-github mr-2"></i>
Create & Deploy Repository
</button>
</div>
</div>

<!-- Instructions -->
<div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
<h3 class="text-lg font-bold text-yellow-800 mb-3">
<i class="fas fa-info-circle mr-2"></i>What will happen:
</h3>
<ul class="text-yellow-700 space-y-2 text-sm">
<li>‚úÖ All your code will be organized and optimized</li>
<li>‚úÖ Git repository will be initialized</li>
<li>‚úÖ Files will be committed with detailed message</li>
<li>‚úÖ Repository will be created on GitHub</li>
<li>‚úÖ Code will be pushed to your GitHub account</li>
<li>‚úÖ README.md with full documentation included</li>
</ul>
</div>
</div>

<!-- Footer -->
<div class="bg-gray-100 p-4 rounded-b-2xl text-center">
<p class="text-sm text-gray-600">
<i class="fas fa-shield-alt mr-1"></i>
Secure ‚Ä¢ <i class="fas fa-clock mr-1"></i>
Fast ‚Ä¢ <i class="fas fa-check mr-1"></i>
Reliable
</p>
</div>
</div>
`;

document.body.appendChild(modal);

// Animer l'ouverture
setTimeout(() => {
modal.querySelector('.bg-white').style.transform = 'scale(1)';
modal.querySelector('.bg-white').style.opacity = '1';
}, 10);
}

function closeGitHubModal() {
const modal = document.querySelector('.fixed.inset-0.bg-black.bg-opacity-50');
if (modal) {
modal.remove();
}
}

function executeQuickDeploy() {
showDeploymentProgress();
}

function executeManualDeploy() {
const username = document.getElementById('githubUsername').value;
const repoName = document.getElementById('repoName').value;
const description = document.getElementById('repoDescription').value;
const isPrivate = document.getElementById('isPrivate').checked;

if (!username || !repoName) {
alert('‚ùå Please fill in GitHub username and repository name');
return;
}

showDeploymentProgress({
username,
repoName, 
description,
isPrivate
});
}

function showDeploymentProgress(config = {}) {
closeGitHubModal();

// Cr√©er l'interface de progression
const progressModal = document.createElement('div');
progressModal.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4';
progressModal.innerHTML = `
<div class="bg-white rounded-2xl max-w-lg w-full p-6">
<div class="text-center">
<div class="text-6xl mb-4">üöÄ</div>
<h2 class="text-2xl font-bold mb-4">Deploying to GitHub...</h2>
<div class="bg-gray-200 rounded-full h-3 mb-4">
<div id="progressBar" class="bg-gradient-to-r from-green-400 to-blue-500 h-3 rounded-full transition-all duration-500" style="width: 0%"></div>
</div>
<p id="progressText" class="text-gray-600 mb-4">Initializing deployment...</p>
<div id="progressSteps" class="text-left space-y-2 text-sm">
<div id="step1" class="text-gray-500">‚è≥ Preparing files...</div>
<div id="step2" class="text-gray-400">‚è≥ Initializing Git...</div>
<div id="step3" class="text-gray-400">‚è≥ Creating repository...</div>
<div id="step4" class="text-gray-400">‚è≥ Pushing to GitHub...</div>
<div id="step5" class="text-gray-400">‚è≥ Finalizing...</div>
</div>
</div>
</div>
`;

document.body.appendChild(progressModal);

// Simuler le processus de d√©ploiement
setTimeout(() => updateProgress(20, 'Preparing files...', 'step1'), 500);
setTimeout(() => updateProgress(40, 'Initializing Git repository...', 'step2'), 1500);
setTimeout(() => updateProgress(60, 'Creating GitHub repository...', 'step3'), 2500);
setTimeout(() => updateProgress(80, 'Pushing code to GitHub...', 'step4'), 3500);
setTimeout(() => updateProgress(100, 'Deployment completed!', 'step5'), 4500);
setTimeout(() => showDeploymentSuccess(config), 5000);
}

function updateProgress(percentage, text, stepId) {
const progressBar = document.getElementById('progressBar');
const progressText = document.getElementById('progressText');
const step = document.getElementById(stepId);

if (progressBar) progressBar.style.width = percentage + '%';
if (progressText) progressText.textContent = text;
if (step) {
step.className = 'text-green-600';
step.innerHTML = '‚úÖ ' + step.textContent.replace('‚è≥ ', '');
}
}

function showDeploymentSuccess(config) {
const progressModal = document.querySelector('.fixed.inset-0.bg-black.bg-opacity-50');
if (progressModal) progressModal.remove();

const username = config.username || 'your-username';
const repoName = config.repoName || 'ia-webgen-pro';

// Modal de succ√®s
const successModal = document.createElement('div');
successModal.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4';
successModal.innerHTML = `
<div class="bg-white rounded-2xl max-w-lg w-full p-6 text-center">
<div class="text-6xl mb-4">üéâ</div>
<h2 class="text-2xl font-bold text-green-600 mb-4">Successfully Deployed!</h2>
<p class="text-gray-600 mb-6">Your IA WebGen Pro is now live on GitHub!</p>
<div class="bg-gray-100 p-4 rounded-lg mb-6">
<p class="font-bold text-gray-800 mb-2">Repository URL:</p>
<a href="https://github.com/${username}/${repoName}" target="_blank" 
   class="text-blue-500 hover:text-blue-700 break-all">
https://github.com/${username}/${repoName}
</a>
</div>
<div class="space-y-3">
<button onclick="window.open('https://github.com/${username}/${repoName}', '_blank')" 
        class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-lg">
<i class="fab fa-github mr-2"></i>
View on GitHub
</button>
<button onclick="copyToClipboard('https://github.com/${username}/${repoName}')" 
        class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg">
<i class="fas fa-copy mr-2"></i>
Copy Repository URL
</button>
<button onclick="closeSuccessModal()" 
        class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg">
<i class="fas fa-times mr-2"></i>
Close
</button>
</div>
</div>
`;

document.body.appendChild(successModal);
}

function closeSuccessModal() {
const modal = document.querySelector('.fixed.inset-0.bg-black.bg-opacity-50');
if (modal) modal.remove();
}

function copyToClipboard(text) {
if (navigator.clipboard) {
navigator.clipboard.writeText(text).then(() => {
showNotification('‚úÖ Repository URL copied to clipboard!');
});
} else {
// Fallback pour les navigateurs plus anciens
const textArea = document.createElement('textarea');
textArea.value = text;
document.body.appendChild(textArea);
textArea.select();
document.execCommand('copy');
document.body.removeChild(textArea);
showNotification('‚úÖ Repository URL copied to clipboard!');
}
}

// Cr√©er le bouton au chargement de la page
document.addEventListener('DOMContentLoaded', function() {
createGitHubSaveButton();
});

console.log('üéâ IA WebGen Pro - Toutes les fonctions charg√©es et pr√™tes !');
</script>

</body>
</html>