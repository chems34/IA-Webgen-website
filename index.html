<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IA WebGen - Créateur de Sites Web Automatisé</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-hover:hover { transform: translateY(-5px); transition: transform 0.3s ease; }
        .fade-in { animation: fadeIn 0.8s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .preview-section { display: none; }
        .auth-section { display: none; }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); }
        .modal-content { background-color: white; margin: 5% auto; padding: 20px; border-radius: 10px; width: 90%; max-width: 800px; max-height: 80vh; overflow-y: auto; }
        .notification { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 1001; display: none; }
        .share-widget { position: fixed; bottom: 20px; right: 20px; z-index: 100; }
        .quality-templates { display: none; }
        .photo-upload-area { border: 2px dashed #cbd5e0; border-radius: 8px; padding: 20px; text-align: center; transition: all 0.3s; }
        .photo-upload-area:hover { border-color: #3b82f6; background-color: #f0f9ff; }
        .photo-upload-area.drag-over { border-color: #10b981; background-color: #f0fdf4; }
        .template-card { cursor: pointer; transition: all 0.3s; border: 3px solid transparent; }
        .template-card:hover { transform: scale(1.02); box-shadow: 0 10px 25px rgba(0,0,0,0.15); }
        .template-card.selected { border: 3px solid #10b981; background: #f0fdf4; }
        .premium-badge { position: absolute; top: -8px; right: -8px; background: linear-gradient(45deg, #ffd700, #ffed4e); color: #1f2937; padding: 4px 8px; border-radius: 12px; font-size: 0.7rem; font-weight: bold; }
        
        /* Styles pour la prévisualisation multi-pages */
        .site-nav { position: sticky; top: 0; z-index: 50; backdrop-filter: blur(10px); }
        .page-content { display: none; }
        .page-content.active { display: block; }
        .nav-link { cursor: pointer; transition: all 0.3s; }
        .nav-link:hover { transform: translateY(-2px); }
        .nav-link.active { font-weight: bold; }
    </style>
</head>
<body class="font-sans">
    
    <!-- Notification -->
    <div id="notification" class="notification bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg">
        <span id="notificationText">Message</span>
    </div>

    <!-- Widget de partage -->
    <div class="share-widget">
        <div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full shadow-lg p-3 relative">
            <button onclick="toggleShareMenu()" class="flex items-center space-x-2 text-sm font-medium">
                <i class="fas fa-share-alt"></i>
                <span>Partager = -10%</span>
            </button>
            <div id="shareMenu" class="hidden absolute bottom-full right-0 mb-2 bg-white rounded-lg shadow-xl p-3 min-w-48">
                <p class="text-gray-800 text-xs font-bold mb-2">🎁 Partagez et économisez 10% !</p>
                <div class="flex gap-2">
                    <button onclick="shareOnFacebook()" class="bg-blue-600 text-white p-2 rounded hover:bg-blue-700 text-xs">
                        <i class="fab fa-facebook-f"></i>
                    </button>
                    <button onclick="shareOnTwitter()" class="bg-blue-400 text-white p-2 rounded hover:bg-blue-500 text-xs">
                        <i class="fab fa-twitter"></i>
                    </button>
                    <button onclick="shareOnWhatsApp()" class="bg-green-500 text-white p-2 rounded hover:bg-green-600 text-xs">
                        <i class="fab fa-whatsapp"></i>
                    </button>
                    <button onclick="copyLink()" class="bg-gray-600 text-white p-2 rounded hover:bg-gray-700 text-xs">
                        <i class="fas fa-link"></i>
                    </button>
                </div>
                <p class="text-gray-600 text-xs mt-2">Code: SHARE10</p>
            </div>
        </div>
    </div>

    <!-- Header -->
    <div class="gradient-bg text-white py-4 fade-in">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center flex-wrap">
                <h1 class="text-2xl font-bold">🤖 IA WebGen</h1>
                <div class="flex items-center gap-4">
                    <div class="text-sm">
                        <span class="bg-green-500 px-3 py-1 rounded-full text-xs sm:text-sm">
                            ✨ Sites complets avec toutes les pages !
                        </span>
                    </div>
                    <div id="authButtons" class="flex gap-2">
                        <button onclick="showLogin()" class="bg-white bg-opacity-20 px-4 py-2 rounded text-sm hover:bg-opacity-30">
                            <i class="fas fa-sign-in-alt"></i> Connexion
                        </button>
                        <button onclick="showRegister()" class="bg-green-500 px-4 py-2 rounded text-sm hover:bg-green-600">
                            <i class="fas fa-user-plus"></i> S'inscrire
                        </button>
                    </div>
                    <div id="userMenu" class="hidden">
                        <span id="userName" class="text-sm mr-4"></span>
                        <button onclick="logout()" class="bg-red-500 px-3 py-1 rounded text-sm hover:bg-red-600">
                            <i class="fas fa-sign-out-alt"></i> Déconnexion
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Section principale -->
    <div id="mainSection">
        <!-- Hero Section -->
        <section class="gradient-bg text-white py-20 fade-in">
            <div class="container mx-auto px-4 text-center">
                <h2 class="text-3xl sm:text-5xl font-bold mb-6">
                    🚀 Sites Web Complets avec toutes les Pages
                </h2>
                <p class="text-lg sm:text-xl mb-8 opacity-90">
                    Sites professionnels complets : Accueil, À propos, Services, Portfolio, Blog, Contact + RGPD !
                </p>
                
                <div class="bg-white bg-opacity-10 backdrop-filter backdrop-blur-lg rounded-lg p-6 sm:p-8 max-w-2xl mx-auto">
                    <h3 class="text-xl sm:text-2xl font-bold mb-6">🎯 Créer mon site professionnel complet</h3>
                    
                    <!-- Fonctionnalités incluses -->
                    <div class="mb-6 text-left bg-white bg-opacity-10 rounded-lg p-4">
                        <h4 class="font-bold mb-3">✨ Fonctionnalités incluses :</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-2 text-sm">
                            <div>✅ 7 pages complètes</div>
                            <div>✅ Menu navigation sticky</div>
                            <div>✅ Responsive mobile/tablet</div>
                            <div>✅ SEO optimisé</div>
                            <div>✅ Formulaire contact</div>
                            <div>✅ Blog avec catégories</div>
                            <div>✅ Galerie portfolio</div>
                            <div>✅ Conformité RGPD</div>
                            <div>✅ Page 404 personnalisée</div>
                            <div>✅ Réseaux sociaux</div>
                        </div>
                    </div>
                    
                    <form id="websiteForm" class="space-y-4">
                        <div class="grid md:grid-cols-2 gap-4">
                            <input type="text" id="businessName" placeholder="Nom de votre entreprise" 
                                   class="w-full p-3 rounded-lg text-gray-800 font-medium" required>
                            
                            <select id="siteType" class="w-full p-3 rounded-lg text-gray-800 font-medium" required>
                                <option value="">Type de site</option>
                                <option value="restaurant">🍽️ Restaurant</option>
                                <option value="salon">💇 Salon de beauté</option>
                                <option value="commerce">🏪 Commerce/Boutique</option>
                                <option value="service">🔧 Service professionnel</option>
                                <option value="medical">🏥 Cabinet médical</option>
                                <option value="immobilier">🏠 Immobilier</option>
                                <option value="hotel">🏨 Hôtel/Hébergement</option>
                                <option value="fitness">💪 Salle de sport</option>
                                <option value="location-voiture">🚗 Location de voiture</option>
                                <option value="avocat">⚖️ Cabinet d'avocat</option>
                                <option value="photographe">📸 Photographe</option>
                                <option value="plombier">🔧 Plomberie</option>
                                <option value="electricien">⚡ Électricien</option>
                                <option value="garage">🔧 Garage automobile</option>
                                <option value="autre">✨ Autre activité</option>
                            </select>
                        </div>
                        
                        <textarea id="description" placeholder="Décrivez votre activité et vos services en détail..." 
                                  class="w-full p-3 rounded-lg text-gray-800 font-medium h-24" required></textarea>
                        
                        <input type="email" id="userEmail" placeholder="Votre email pour recevoir le site" 
                               class="w-full p-3 rounded-lg text-gray-800 font-medium" required>
                        
                        <!-- Upload de photos -->
                        <div class="photo-upload-area" id="photoUploadArea">
                            <div class="mb-4">
                                <i class="fas fa-camera text-4xl text-gray-400 mb-2"></i>
                                <h4 class="text-gray-800 font-bold text-lg mb-2">📸 Ajoutez vos photos (optionnel)</h4>
                                <p class="text-gray-600 text-sm mb-4">
                                    Glissez vos images ici ou cliquez pour sélectionner<br>
                                    <span class="text-xs">JPG, PNG, WebP - Max 5 Mo par image</span>
                                </p>
                                <input type="file" id="photoInput" multiple accept="image/*" class="hidden">
                                <button type="button" onclick="document.getElementById('photoInput').click()" 
                                        class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 text-sm">
                                    <i class="fas fa-upload mr-2"></i>Choisir des photos
                                </button>
                            </div>
                            <div id="photoPreview" class="grid grid-cols-3 gap-2 mt-4 hidden"></div>
                        </div>
                        
                        <button type="submit" class="w-full bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white font-bold py-4 px-6 rounded-lg transform hover:scale-105 transition-all duration-200 text-lg">
                            🎨 CHOISIR UN THÈME & CRÉER MON SITE COMPLET
                        </button>
                    </form>
                </div>
            </div>
        </section>

        <!-- Service Conciergerie -->
        <section class="py-16 bg-gray-50 fade-in">
            <div class="container mx-auto px-4">
                <div class="text-center mb-12">
                    <h3 class="text-3xl sm:text-4xl font-bold text-gray-800 mb-4">
                        🏆 Sites Web Professionnels Complets
                    </h3>
                    <p class="text-lg sm:text-xl text-gray-600">
                        Toutes les pages essentielles pour un site professionnel !
                    </p>
                </div>

                <div class="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto">
                    <!-- Offre Site Seul -->
                    <div class="bg-white rounded-lg shadow-lg p-6 sm:p-8 card-hover">
                        <div class="text-center">
                            <h4 class="text-xl sm:text-2xl font-bold text-gray-800 mb-4">📄 Site Complet Pro</h4>
                            <div class="text-3xl sm:text-4xl font-bold text-blue-600 mb-4">15€</div>
                            <ul class="text-left space-y-2 mb-6 text-sm sm:text-base">
                                <li>✅ 7 pages complètes (Accueil, À propos, Services, etc.)</li>
                                <li>✅ Menu navigation responsive + sticky</li>
                                <li>✅ Formulaire contact avec validation</li>
                                <li>✅ Blog simple avec catégories</li>
                                <li>✅ Galerie portfolio/réalisations</li>
                                <li>✅ Footer avec réseaux sociaux</li>
                                <li>✅ SEO optimisé + RGPD</li>
                                <li>✅ Page 404 personnalisée</li>
                                <li>✅ Code source complet</li>
                                <li>❌ Pas d'hébergement inclus</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Offre Conciergerie -->
                    <div class="bg-gradient-to-br from-green-500 to-blue-600 text-white rounded-lg shadow-lg p-6 sm:p-8 card-hover relative">
                        <div class="absolute -top-4 left-1/2 transform -translate-x-1/2 bg-orange-500 px-3 py-1 rounded-full text-xs sm:text-sm font-bold">
                            🔥 LE PLUS POPULAIRE
                        </div>
                        <div class="text-center mt-4">
                            <h4 class="text-xl sm:text-2xl font-bold mb-4">🤖 Conciergerie Site Complet</h4>
                            <div class="text-3xl sm:text-4xl font-bold mb-4">49€</div>
                            <ul class="text-left space-y-2 mb-6 text-sm sm:text-base">
                                <li>✅ Tout inclus du Site Complet Pro</li>
                                <li>✅ <strong>Nom de domaine automatique</strong></li>
                                <li>✅ <strong>Hébergement sécurisé HTTPS</strong></li>
                                <li>✅ <strong>Site en ligne en 2-4h maximum</strong></li>
                                <li>✅ <strong>Formulaire contact fonctionnel</strong></li>
                                <li>✅ <strong>Blog prêt à l'emploi</strong></li>
                                <li>✅ <strong>Optimisation SEO complète</strong></li>
                                <li>✅ <strong>Certificats SSL + sécurité</strong></li>
                                <li>✅ <strong>Formation + Support 3 mois</strong></li>
                                <li>✅ <strong>Tous les thèmes premium inclus</strong></li>
                            </ul>
                            <div class="bg-yellow-400 text-gray-800 p-3 rounded-lg text-xs sm:text-sm font-bold mb-4">
                                ⏰ Site professionnel complet en ligne en 2-4h !<br>
                                🏆 Toutes les pages + fonctionnalités incluses
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Section Templates -->
    <section id="qualityTemplates" class="quality-templates py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-gray-800 mb-4">🎨 Choisissez votre thème professionnel</h3>
                <p class="text-xl text-gray-600">7 thèmes gratuits + 3 thèmes premium à 5€ - Sites complets avec toutes les pages</p>
                <button onclick="goBackToMain()" class="mt-4 bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600">
                    <i class="fas fa-arrow-left mr-2"></i>Modifier les informations
                </button>
            </div>
            
            <div id="templateGrid" class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto">
                <!-- Les templates seront générés ici -->
            </div>
            
            <div class="text-center mt-8">
                <button onclick="proceedWithSelectedTemplate()" id="continueBtn" 
                        class="bg-green-500 text-white px-8 py-4 rounded-lg font-bold text-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                    <i class="fas fa-eye mr-2"></i>VOIR LE SITE COMPLET
                </button>
            </div>
        </div>
    </section>

    <!-- Section Prévisualisation -->
    <section id="previewSection" class="preview-section min-h-screen bg-gray-100 py-8">
        <div class="container mx-auto px-4">
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold text-gray-800">
                        🏆 Site complet : <span id="previewBusinessName"></span>
                    </h2>
                    <div class="flex gap-3">
                        <button onclick="goBackToTemplates()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                            <i class="fas fa-palette mr-2"></i>Changer de thème
                        </button>
                        <button onclick="goBackToMain()" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">
                            <i class="fas fa-edit mr-2"></i>Modifier infos
                        </button>
                    </div>
                </div>
                
                <div class="grid lg:grid-cols-2 gap-8">
                    <!-- Aperçu du site -->
                    <div>
                        <h3 class="text-lg font-bold mb-4">🌐 Aperçu de votre site complet</h3>
                        <p class="text-sm text-gray-600 mb-4">Naviguez entre toutes les pages de votre site :</p>
                        <div id="websitePreview" class="border-2 border-gray-300 rounded-lg bg-white overflow-auto" style="height: 600px; padding: 0;">
                            <div style="padding: 20px; text-align: center; color: #6b7280;">
                                <i class="fas fa-spinner fa-spin" style="font-size: 2rem; margin-bottom: 10px;"></i>
                                <p>Génération de votre site complet en cours...</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Options de personnalisation -->
                    <div>
                        <h3 class="text-lg font-bold mb-4">✏️ Personnalisez votre site</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-bold mb-2">Couleur principale</label>
                                <input type="color" id="primaryColor" value="#3b82f6" class="w-full h-10 rounded" onchange="updatePreview()">
                            </div>
                            <div>
                                <label class="block text-sm font-bold mb-2">Nom de l'entreprise</label>
                                <input type="text" id="mainTitle" class="w-full p-3 border rounded-lg" onchange="updatePreview()">
                            </div>
                            <div>
                                <label class="block text-sm font-bold mb-2">Description activité</label>
                                <textarea id="subtitle" class="w-full p-3 border rounded-lg h-20" onchange="updatePreview()"></textarea>
                            </div>
                            <div>
                                <label class="block text-sm font-bold mb-2">Téléphone</label>
                                <input type="tel" id="phone" class="w-full p-3 border rounded-lg" placeholder="01 23 45 67 89" onchange="updatePreview()">
                            </div>
                            <div>
                                <label class="block text-sm font-bold mb-2">Adresse</label>
                                <input type="text" id="address" class="w-full p-3 border rounded-lg" placeholder="123 Rue Example, Paris" onchange="updatePreview()">
                            </div>
                            <div>
                                <label class="block text-sm font-bold mb-2">Email professionnel</label>
                                <input type="email" id="businessEmail" class="w-full p-3 border rounded-lg" placeholder="contact@entreprise.fr" onchange="updatePreview()">
                            </div>
                            <button onclick="updatePreview()" class="w-full bg-blue-500 text-white py-3 rounded hover:bg-blue-600">
                                🔄 Mettre à jour le site
                            </button>
                        </div>
                        
                        <!-- Choix de l'offre -->
                        <div class="mt-8 border-t pt-6">
                            <h3 class="text-lg font-bold mb-4">💳 Finaliser votre commande</h3>
                            <div id="templateCostInfo" class="mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg">
                                <!-- Info sur le coût du template -->
                            </div>
                            <div class="space-y-4">
                                <div class="border rounded-lg p-4 cursor-pointer hover:bg-blue-50" onclick="selectOffer('site')">
                                    <div class="flex justify-between items-center">
                                        <div>
                                            <h4 class="font-bold">📄 Site Complet Pro</h4>
                                            <p class="text-sm text-gray-600">7 pages + Code source + Livraison email</p>
                                        </div>
                                        <div class="text-right">
                                            <div class="font-bold text-blue-600" id="sitePrice">15€</div>
                                            <input type="radio" name="offer" value="site" class="offer-radio mt-1">
                                        </div>
                                    </div>
                                </div>
                                <div class="border rounded-lg p-4 cursor-pointer hover:bg-green-50 border-green-500" onclick="selectOffer('conciergerie')">
                                    <div class="flex justify-between items-center">
                                        <div>
                                            <h4 class="font-bold">🤖 Conciergerie Site Complet - 49€ ⭐</h4>
                                            <p class="text-sm text-gray-600">Site + Domaine + Hébergement + Formation</p>
                                        </div>
                                        <div class="text-right">
                                            <div class="font-bold text-green-600">49€</div>
                                            <input type="radio" name="offer" value="conciergerie" class="offer-radio mt-1" checked>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <button id="payButton" onclick="processPayment()" class="w-full mt-6 bg-green-500 text-white py-4 px-6 rounded-lg font-bold text-lg hover:bg-green-600 transform hover:scale-105 transition-all">
                                💳 COMMANDER SITE COMPLET - 49€
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal d'authentification -->
    <div id="authModal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-6">
                <h2 id="authModalTitle" class="text-2xl font-bold">Connexion</h2>
                <button onclick="closeAuthModal()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            
            <!-- Connexion -->
            <div id="loginForm" class="auth-section">
                <form onsubmit="login(event)" class="space-y-4">
                    <div>
                        <label class="block text-sm font-bold mb-2">Email</label>
                        <input type="email" id="loginEmail" class="w-full p-3 border rounded-lg" required>
                    </div>
                    <div>
                        <label class="block text-sm font-bold mb-2">Mot de passe</label>
                        <input type="password" id="loginPassword" class="w-full p-3 border rounded-lg" required>
                    </div>
                    <button type="submit" class="w-full bg-blue-500 text-white py-3 rounded-lg hover:bg-blue-600">
                        Se connecter
                    </button>
                </form>
                <p class="mt-4 text-center">
                    <a href="#" onclick="showRegisterForm()" class="text-blue-500 hover:underline">Pas de compte ? S'inscrire</a>
                </p>
            </div>
            
            <!-- Inscription -->
            <div id="registerForm" class="auth-section">
                <form onsubmit="register(event)" class="space-y-4">
                    <div>
                        <label class="block text-sm font-bold mb-2">Nom complet</label>
                        <input type="text" id="registerName" class="w-full p-3 border rounded-lg" required>
                    </div>
                    <div>
                        <label class="block text-sm font-bold mb-2">Email</label>
                        <input type="email" id="registerEmail" class="w-full p-3 border rounded-lg" required>
                    </div>
                    <div>
                        <label class="block text-sm font-bold mb-2">Mot de passe</label>
                        <input type="password" id="registerPassword" class="w-full p-3 border rounded-lg" required>
                    </div>
                    <button type="submit" class="w-full bg-green-500 text-white py-3 rounded-lg hover:bg-green-600">
                        S'inscrire
                    </button>
                </form>
                <p class="mt-4 text-center">
                    <a href="#" onclick="showLoginForm()" class="text-blue-500 hover:underline">Déjà un compte ? Se connecter</a>
                </p>
            </div>
        </div>
    </div>

    <script>
        // Variables globales
        let currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;
        let currentOffer = 'conciergerie';
        let websiteData = {};
        let selectedTemplate = null;
        let uploadedPhotos = [];
        let allTemplates = [];
        let currentPage = 'accueil';

        // Templates définis globalement
        const TEMPLATES = [
            // 7 THÈMES GRATUITS
            {
                id: 'modern-clean',
                name: 'Modern Clean',
                description: 'Design épuré et moderne',
                isPremium: false,
                colors: { primary: '#3b82f6', secondary: '#1e40af' },
                gradient: 'from-blue-400 to-blue-600'
            },
            {
                id: 'business-pro',
                name: 'Business Pro',
                description: 'Professionnel et élégant',
                isPremium: false,
                colors: { primary: '#374151', secondary: '#111827' },
                gradient: 'from-gray-600 to-gray-800'
            },
            {
                id: 'creative-studio',
                name: 'Creative Studio',
                description: 'Créatif et artistique',
                isPremium: false,
                colors: { primary: '#f59e0b', secondary: '#dc2626' },
                gradient: 'from-orange-400 to-red-500'
            },
            {
                id: 'fresh-green',
                name: 'Fresh Green',
                description: 'Nature et éco-responsable',
                isPremium: false,
                colors: { primary: '#10b981', secondary: '#047857' },
                gradient: 'from-green-400 to-emerald-600'
            },
            {
                id: 'tech-innovation',
                name: 'Tech Innovation',
                description: 'High-tech et futuriste',
                isPremium: false,
                colors: { primary: '#8b5cf6', secondary: '#7c3aed' },
                gradient: 'from-purple-500 to-cyan-500'
            },
            {
                id: 'warm-elegance',
                name: 'Warm Elegance',
                description: 'Chaleureux et accueillant',
                isPremium: false,
                colors: { primary: '#f97316', secondary: '#ea580c' },
                gradient: 'from-orange-500 to-amber-600'
            },
            {
                id: 'classic-minimal',
                name: 'Classic Minimal',
                description: 'Classique et minimaliste',
                isPremium: false,
                colors: { primary: '#6b7280', secondary: '#374151' },
                gradient: 'from-slate-400 to-slate-600'
            },
            
            // 3 THÈMES PREMIUM (+5€)
            {
                id: 'luxury-gold',
                name: 'Luxury Gold',
                description: 'Premium avec animations dorées',
                isPremium: true,
                colors: { primary: '#f59e0b', secondary: '#d97706' },
                gradient: 'from-yellow-400 to-amber-600'
            },
            {
                id: 'royal-purple',
                name: 'Royal Purple',
                description: 'Design royal avec effets premium',
                isPremium: true,
                colors: { primary: '#a855f7', secondary: '#7c3aed' },
                gradient: 'from-purple-500 to-indigo-600'
            },
            {
                id: 'diamond-elite',
                name: 'Diamond Elite',
                description: 'Ultra-premium avec cristaux',
                isPremium: true,
                colors: { primary: '#6b7280', secondary: '#374151' },
                gradient: 'from-slate-400 to-slate-700'
            }
        ];

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 Application site complet démarrée');
            
            if (currentUser) {
                showUserMenu();
            }
            
            const form = document.getElementById('websiteForm');
            if (form) {
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    console.log('📝 Formulaire site complet soumis');
                    generateTemplates();
                });
            }

            setupPhotoUpload();
            allTemplates = TEMPLATES;
            console.log('✅ Initialisation site complet terminée');
        });

        // Configuration upload photos
        function setupPhotoUpload() {
            const uploadArea = document.getElementById('photoUploadArea');
            const photoInput = document.getElementById('photoInput');
            
            if (!uploadArea || !photoInput) return;
            
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.classList.add('drag-over');
            });
            
            uploadArea.addEventListener('dragleave', () => {
                uploadArea.classList.remove('drag-over');
            });
            
            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('drag-over');
                handleFiles(e.dataTransfer.files);
            });
            
            photoInput.addEventListener('change', (e) => {
                handleFiles(e.target.files);
            });
        }

        function handleFiles(files) {
            for (let file of files) {
                if (file.type.startsWith('image/') && file.size <= 5 * 1024 * 1024) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        uploadedPhotos.push({
                            name: file.name,
                            data: e.target.result
                        });
                        displayPhotoPreview();
                    };
                    reader.readAsDataURL(file);
                }
            }
        }

        function displayPhotoPreview() {
            const preview = document.getElementById('photoPreview');
            if (!preview) return;
            
            preview.innerHTML = '';
            preview.classList.remove('hidden');
            
            uploadedPhotos.forEach((photo, index) => {
                const div = document.createElement('div');
                div.className = 'relative';
                div.innerHTML = `
                    <img src="${photo.data}" alt="${photo.name}" class="w-full h-24 object-cover rounded">
                    <button onclick="removePhoto(${index})" class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 text-xs">×</button>
                `;
                preview.appendChild(div);
            });
        }

        function removePhoto(index) {
            uploadedPhotos.splice(index, 1);
            displayPhotoPreview();
            if (uploadedPhotos.length === 0) {
                document.getElementById('photoPreview').classList.add('hidden');
            }
        }

        // FONCTION PRINCIPALE : Génération des templates
        function generateTemplates() {
            console.log('🎨 Génération des templates site complet...');
            
            // Récupérer les données du formulaire
            const businessName = document.getElementById('businessName').value.trim();
            const description = document.getElementById('description').value.trim();
            const siteType = document.getElementById('siteType').value;
            const userEmail = document.getElementById('userEmail').value.trim();

            // Validation des données
            if (!businessName || !description || !siteType || !userEmail) {
                showNotification('❌ Veuillez remplir tous les champs obligatoires !');
                return;
            }

            // Stocker les données du site
            websiteData = {
                businessName,
                description,
                siteType,
                userEmail,
                photos: uploadedPhotos,
                mainTitle: businessName,
                subtitle: description,
                primaryColor: '#3b82f6',
                phone: '',
                address: '',
                businessEmail: ''
            };

            console.log('📋 Données du site complet:', websiteData);

            // Afficher les templates
            displayTemplates();
            
            // Naviguer vers la section des templates
            document.getElementById('mainSection').style.display = 'none';
            document.getElementById('qualityTemplates').style.display = 'block';
            document.getElementById('previewSection').style.display = 'none';
            
            window.scrollTo(0, 0);
            showNotification('✅ Choisissez votre thème pour votre site complet !');
        }

        // FONCTION ESSENTIELLE : Affichage des templates
        function displayTemplates() {
            console.log('🖼️ Affichage des templates...');
            
            const templateGrid = document.getElementById('templateGrid');
            if (!templateGrid) {
                console.error('❌ Template grid introuvable');
                return;
            }
            
            templateGrid.innerHTML = '';
            
            allTemplates.forEach((template, index) => {
                const templateCard = document.createElement('div');
                templateCard.className = 'template-card bg-white rounded-xl shadow-lg p-4 border-2 border-gray-200 relative hover:shadow-xl transition-all';
                templateCard.onclick = () => selectTemplate(index);
                
                let premiumBadge = '';
                if (template.isPremium) {
                    premiumBadge = '<div class="premium-badge">💎 +5€</div>';
                }
                
                let previewContent = `<div style="text-align: center; padding: 15px; color: ${template.colors.primary}; font-size: 12px;"><div style="font-weight: bold;">SITE COMPLET</div><div style="margin: 5px 0;">7 Pages</div><div style="font-size: 10px; color: #6b7280;">${template.name}</div></div>`;
                
                templateCard.innerHTML = `
                    ${premiumBadge}
                    <div class="mb-4">
                        <div class="bg-gradient-to-br ${template.gradient} h-20 rounded-lg flex items-center justify-center text-white font-bold text-sm shadow-inner">
                            ${previewContent}
                        </div>
                    </div>
                    <div class="text-center">
                        <h4 class="font-bold text-base mb-1">${template.name}</h4>
                        <p class="text-gray-600 text-xs mb-2">${template.description}</p>
                        <div class="text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded mb-2">7 Pages complètes</div>
                        <div class="text-center">
                            <span class="text-xs font-bold px-2 py-1 rounded ${template.isPremium ? 'bg-yellow-100 text-yellow-700' : 'bg-green-100 text-green-700'}">
                                ${template.isPremium ? '💎 Premium +5€' : '✨ Gratuit'}
                            </span>
                        </div>
                    </div>
                `;
                
                templateGrid.appendChild(templateCard);
            });
            
            console.log('✅ Templates site complet affichés:', allTemplates.length);
        }

        // Sélection d'un template
        function selectTemplate(index) {
            console.log('🎯 Template sélectionné:', index);
            
            // Désélectionner tous les templates
            document.querySelectorAll('.template-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Sélectionner le template actuel
            const selectedCard = document.querySelectorAll('.template-card')[index];
            if (selectedCard) {
                selectedCard.classList.add('selected');
            }
            
            selectedTemplate = index;
            
            // Mettre à jour les couleurs selon le template
            if (allTemplates[index]) {
                websiteData.primaryColor = allTemplates[index].colors.primary;
            }
            
            // Activer le bouton continuer
            const continueBtn = document.getElementById('continueBtn');
            if (continueBtn) {
                continueBtn.disabled = false;
                continueBtn.classList.remove('disabled:opacity-50');
            }
            
            showNotification(`✅ Thème "${allTemplates[index].name}" sélectionné pour site complet !`);
        }

        // FONCTION CRITIQUE : Procéder à la prévisualisation
        function proceedWithSelectedTemplate() {
            console.log('👁️ Génération du site complet...');
            
            if (selectedTemplate === null) {
                showNotification('❌ Veuillez sélectionner un thème !');
                return;
            }
            
            // Naviguer vers la prévisualisation
            document.getElementById('qualityTemplates').style.display = 'none';
            document.getElementById('previewSection').style.display = 'block';
            document.getElementById('mainSection').style.display = 'none';
            
            // Initialiser la prévisualisation
            initializePreview();
            
            window.scrollTo(0, 0);
        }

        // FONCTION ESSENTIELLE : Initialisation de la prévisualisation
        function initializePreview() {
            console.log('🔄 Initialisation du site complet...');
            
            if (!websiteData.businessName) {
                console.error('❌ Données du site manquantes');
                showNotification('❌ Erreur dans les données du site');
                return;
            }

            // Pré-remplir les champs
            const previewBusinessName = document.getElementById('previewBusinessName');
            const mainTitle = document.getElementById('mainTitle');
            const subtitle = document.getElementById('subtitle');
            const primaryColor = document.getElementById('primaryColor');
            
            if (previewBusinessName) previewBusinessName.textContent = websiteData.businessName;
            if (mainTitle) mainTitle.value = websiteData.businessName;
            if (subtitle) subtitle.value = websiteData.description;
            if (primaryColor) primaryColor.value = websiteData.primaryColor;
            
            // Mettre à jour l'info sur le coût du template
            updateTemplateCostInfo();
            
            // Générer l'aperçu immédiatement
            setTimeout(() => {
                updatePreview();
            }, 100);
            
            showNotification('✅ Site complet généré ! Naviguez entre les pages.');
        }

        function updateTemplateCostInfo() {
            const template = allTemplates[selectedTemplate];
            const costInfo = document.getElementById('templateCostInfo');
            
            if (!costInfo) return;
            
            if (template && template.isPremium) {
                costInfo.innerHTML = `
                    <div class="flex items-center justify-between">
                        <div>
                            <span class="font-bold">💎 Thème Premium "${template.name}"</span>
                            <p class="text-sm text-gray-600">Site complet avec toutes les pages + thème premium</p>
                        </div>
                        <div class="font-bold text-yellow-600">+5€</div>
                    </div>
                `;
            } else {
                costInfo.innerHTML = `
                    <div class="text-center">
                        <span class="font-bold text-green-600">✅ Site complet avec thème gratuit "${template ? template.name : 'Standard'}" inclus</span>
                        <p class="text-sm text-gray-600">7 pages professionnelles + toutes les fonctionnalités</p>
                    </div>
                `;
            }
        }

        // FONCTION PRINCIPALE : Mise à jour de la prévisualisation
        function updatePreview() {
            console.log('🎨 Mise à jour du site complet...');
            
            const mainTitleEl = document.getElementById('mainTitle');
            const subtitleEl = document.getElementById('subtitle');
            const primaryColorEl = document.getElementById('primaryColor');
            const phoneEl = document.getElementById('phone');
            const addressEl = document.getElementById('address');
            const businessEmailEl = document.getElementById('businessEmail');
            
            if (!mainTitleEl || !subtitleEl || !primaryColorEl) {
                console.error('❌ Éléments de formulaire manquants');
                return;
            }
            
            // Récupérer les valeurs actuelles
            const mainTitle = mainTitleEl.value || websiteData.businessName;
            const subtitle = subtitleEl.value || websiteData.description;
            const primaryColor = primaryColorEl.value;
            const phone = phoneEl ? phoneEl.value : '';
            const address = addressEl ? addressEl.value : '';
            const businessEmail = businessEmailEl ? businessEmailEl.value : '';

            // Mettre à jour les données
            websiteData.mainTitle = mainTitle;
            websiteData.subtitle = subtitle;
            websiteData.primaryColor = primaryColor;
            websiteData.phone = phone;
            websiteData.address = address;
            websiteData.businessEmail = businessEmail;

            // Générer le contenu
            const siteContent = generateCompleteSiteContent();
            const previewEl = document.getElementById('websitePreview');
            
            if (previewEl && siteContent) {
                previewEl.innerHTML = siteContent;
                console.log('✅ Site complet mis à jour');
            } else {
                console.error('❌ Impossible de mettre à jour le site complet');
            }
        }

        // FONCTION PRINCIPALE : Génération du site complet
        function generateCompleteSiteContent() {
            const { mainTitle, subtitle, primaryColor, phone, address, businessEmail, siteType, photos } = websiteData;
            const template = allTemplates[selectedTemplate];
            
            if (!template) {
                console.error('❌ Template manquant');
                return '<div style="padding: 20px; text-align: center; color: red;">Erreur: Template non trouvé</div>';
            }
            
            // Navigation sticky
            let content = `
                <div class="site-nav" style="background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); border-bottom: 1px solid #e5e7eb; padding: 15px 20px; position: sticky; top: 0; z-index: 50;">
                    <div style="display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: 0 auto;">
                        <div style="font-size: 1.5rem; font-weight: bold; color: ${primaryColor};">
                            ${mainTitle}
                        </div>
                        <div style="display: flex; gap: 25px; font-size: 0.9rem;">
                            <span class="nav-link active" onclick="showPage('accueil')" style="color: ${primaryColor}; font-weight: bold; cursor: pointer;">Accueil</span>
                            <span class="nav-link" onclick="showPage('apropos')" style="color: #6b7280; cursor: pointer;">À propos</span>
                            <span class="nav-link" onclick="showPage('services')" style="color: #6b7280; cursor: pointer;">Services</span>
                            <span class="nav-link" onclick="showPage('portfolio')" style="color: #6b7280; cursor: pointer;">Portfolio</span>
                            <span class="nav-link" onclick="showPage('blog')" style="color: #6b7280; cursor: pointer;">Blog</span>
                            <span class="nav-link" onclick="showPage('contact')" style="color: #6b7280; cursor: pointer;">Contact</span>
                        </div>
                        <div style="display: none;">
                            <button style="background: none; border: none; font-size: 1.5rem;">☰</button>
                        </div>
                    </div>
                </div>
            `;

            // Page Accueil
            content += `
                <div id="page-accueil" class="page-content active">
                    <!-- Hero Section -->
                    <div style="background: linear-gradient(135deg, ${primaryColor}, ${template.colors.secondary}); color: white; padding: 60px 20px; text-align: center;">
                        <div style="max-width: 800px; margin: 0 auto;">
                            <h1 style="font-size: 3rem; font-weight: 900; margin-bottom: 20px; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">${mainTitle}</h1>
                            <p style="font-size: 1.3rem; opacity: 0.95; margin-bottom: 30px; line-height: 1.6;">${subtitle}</p>
                            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                                <div style="background: rgba(255,255,255,0.2); padding: 12px 24px; border-radius: 25px; font-weight: bold;">✨ Service Premium</div>
                                <div style="background: rgba(255,255,255,0.2); padding: 12px 24px; border-radius: 25px; font-weight: bold;">🏆 Qualité Garantie</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Présentation -->
                    <div style="padding: 60px 20px; background: white;">
                        <div style="max-width: 1000px; margin: 0 auto; text-align: center;">
                            <h2 style="font-size: 2.5rem; color: ${primaryColor}; margin-bottom: 30px;">Pourquoi nous choisir ?</h2>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 40px; margin-top: 40px;">
                                <div style="text-align: center; padding: 30px;">
                                    <div style="font-size: 4rem; margin-bottom: 20px;">⚡</div>
                                    <h3 style="color: ${primaryColor}; font-weight: bold; margin-bottom: 15px;">Rapidité</h3>
                                    <p style="color: #6b7280; line-height: 1.6;">Service ultra-rapide et efficace pour répondre à vos besoins</p>
                                </div>
                                <div style="text-align: center; padding: 30px;">
                                    <div style="font-size: 4rem; margin-bottom: 20px;">🏆</div>
                                    <h3 style="color: ${primaryColor}; font-weight: bold; margin-bottom: 15px;">Qualité</h3>
                                    <p style="color: #6b7280; line-height: 1.6;">Excellence et professionnalisme dans chaque prestation</p>
                                </div>
                                <div style="text-align: center; padding: 30px;">
                                    <div style="font-size: 4rem; margin-bottom: 20px;">💯</div>
                                    <h3 style="color: ${primaryColor}; font-weight: bold; margin-bottom: 15px;">Satisfaction</h3>
                                    <p style="color: #6b7280; line-height: 1.6;">Votre satisfaction est notre priorité absolue</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            // Page À propos
            content += `
                <div id="page-apropos" class="page-content" style="display: none;">
                    <div style="padding: 60px 20px; background: white;">
                        <div style="max-width: 800px; margin: 0 auto;">
                            <h1 style="font-size: 3rem; color: ${primaryColor}; text-align: center; margin-bottom: 40px;">À propos de ${mainTitle}</h1>
                            
                            <div style="background: #f8fafc; padding: 40px; border-radius: 15px; margin-bottom: 40px;">
                                <h2 style="color: ${primaryColor}; font-size: 2rem; margin-bottom: 25px;">Notre Histoire</h2>
                                <p style="color: #4b5563; line-height: 1.8; font-size: 1.1rem; margin-bottom: 20px;">
                                    ${mainTitle} est née de la passion de fournir des services d'excellence. Depuis notre création, 
                                    nous nous efforçons de dépasser les attentes de nos clients.
                                </p>
                                <p style="color: #4b5563; line-height: 1.8; font-size: 1.1rem;">
                                    ${subtitle} Nous combinons expertise technique et approche personnalisée pour offrir 
                                    des solutions adaptées à chaque besoin.
                                </p>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 30px;">
                                <div style="text-align: center; padding: 30px; background: white; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                                    <div style="font-size: 3rem; margin-bottom: 15px;">🎯</div>
                                    <h3 style="color: ${primaryColor}; font-weight: bold; margin-bottom: 10px;">Mission</h3>
                                    <p style="color: #6b7280;">Offrir un service d'exception à chaque client</p>
                                </div>
                                <div style="text-align: center; padding: 30px; background: white; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                                    <div style="font-size: 3rem; margin-bottom: 15px;">👀</div>
                                    <h3 style="color: ${primaryColor}; font-weight: bold; margin-bottom: 10px;">Vision</h3>
                                    <p style="color: #6b7280;">Être la référence dans notre domaine</p>
                                </div>
                                <div style="text-align: center; padding: 30px; background: white; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                                    <div style="font-size: 3rem; margin-bottom: 15px;">💎</div>
                                    <h3 style="color: ${primaryColor}; font-weight: bold; margin-bottom: 10px;">Valeurs</h3>
                                    <p style="color: #6b7280;">Intégrité, qualité et innovation</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            // Page Services (spécifique selon le secteur)
            content += generateServicesPage();

            // Page Portfolio
            content += generatePortfolioPage();

            // Page Blog
            content += generateBlogPage();

            // Page Contact
            content += generateContactPage();

            // Footer avec réseaux sociaux et mentions légales
            content += generateFooter();

            // Script pour navigation entre pages
            content += `
                <script>
                    function showPage(pageId) {
                        // Masquer toutes les pages
                        document.querySelectorAll('.page-content').forEach(page => {
                            page.style.display = 'none';
                        });
                        
                        // Afficher la page sélectionnée
                        const selectedPage = document.getElementById('page-' + pageId);
                        if (selectedPage) {
                            selectedPage.style.display = 'block';
                        }
                        
                        // Mettre à jour la navigation
                        document.querySelectorAll('.nav-link').forEach(link => {
                            link.style.color = '#6b7280';
                            link.style.fontWeight = 'normal';
                            link.classList.remove('active');
                        });
                        
                        event.target.style.color = '${primaryColor}';
                        event.target.style.fontWeight = 'bold';
                        event.target.classList.add('active');
                        
                        // Scroll vers le haut
                        document.querySelector('#websitePreview').scrollTop = 0;
                    }
                </script>
            `;

            return content;
        }

        function generateServicesPage() {
            const { primaryColor, siteType, mainTitle } = websiteData;
            
            let servicesContent = `
                <div id="page-services" class="page-content" style="display: none;">
                    <div style="padding: 60px 20px; background: white;">
                        <div style="max-width: 1000px; margin: 0 auto;">
                            <h1 style="font-size: 3rem; color: ${primaryColor}; text-align: center; margin-bottom: 50px;">Nos Services</h1>
            `;
            
            switch(siteType) {
                case 'location-voiture':
                    servicesContent += `
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
                            <div style="background: #f8fafc; padding: 30px; border-radius: 15px; text-align: center; border: 2px solid #e5e7eb;">
                                <div style="font-size: 4rem; margin-bottom: 20px;">🚗</div>
                                <h3 style="font-size: 1.8rem; font-weight: bold; color: ${primaryColor}; margin-bottom: 15px;">Location Citadines</h3>
                                <div style="font-size: 2rem; font-weight: 900; color: #10b981; margin-bottom: 15px;">À partir de 25€<span style="font-size: 1rem; font-weight: normal;">/jour</span></div>
                                <p style="color: #6b7280; margin-bottom: 20px;">Véhicules parfaits pour la ville</p>
                                <ul style="text-align: left; color: #4b5563; margin-bottom: 20px;">
                                    <li>✓ Peugeot 208, Renault Clio</li>
                                    <li>✓ Économiques et pratiques</li>
                                    <li>✓ Assurance tous risques incluse</li>
                                    <li>✓ GPS disponible</li>
                                </ul>
                            </div>
                            <div style="background: #f8fafc; padding: 30px; border-radius: 15px; text-align: center; border: 2px solid #e5e7eb;">
                                <div style="font-size: 4rem; margin-bottom: 20px;">🚙</div>
                                <h3 style="font-size: 1.8rem; font-weight: bold; color: ${primaryColor}; margin-bottom: 15px;">SUV & Familiales</h3>
                                <div style="font-size: 2rem; font-weight: 900; color: #10b981; margin-bottom: 15px;">À partir de 45€<span style="font-size: 1rem; font-weight: normal;">/jour</span></div>
                                <p style="color: #6b7280; margin-bottom: 20px;">Espace et confort pour la famille</p>
                                <ul style="text-align: left; color: #4b5563; margin-bottom: 20px;">
                                    <li>✓ BMW X3, Audi Q5</li>
                                    <li>✓ 5-7 places disponibles</li>
                                    <li>✓ Coffre spacieux</li>
                                    <li>✓ Équipements premium</li>
                                </ul>
                            </div>
                            <div style="background: linear-gradient(135deg, ${primaryColor}22, #ffffff); padding: 30px; border-radius: 15px; text-align: center; border: 2px solid ${primaryColor};">
                                <div style="font-size: 4rem; margin-bottom: 20px;">🏎️</div>
                                <h3 style="font-size: 1.8rem; font-weight: bold; color: ${primaryColor}; margin-bottom: 15px;">Luxury & Prestige</h3>
                                <div style="font-size: 2rem; font-weight: 900; color: #10b981; margin-bottom: 15px;">À partir de 89€<span style="font-size: 1rem; font-weight: normal;">/jour</span></div>
                                <p style="color: #6b7280; margin-bottom: 20px;">L'excellence automobile</p>
                                <ul style="text-align: left; color: #4b5563; margin-bottom: 20px;">
                                    <li>✓ Mercedes, BMW Série 5</li>
                                    <li>✓ Véhicules haut de gamme</li>
                                    <li>✓ Chauffeur disponible</li>
                                    <li>✓ Service premium</li>
                                </ul>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'restaurant':
                    servicesContent += `
                        <div style="display: grid; gap: 40px;">
                            <div style="background: #f8fafc; padding: 40px; border-radius: 15px;">
                                <h3 style="font-size: 2rem; font-weight: bold; color: ${primaryColor}; margin-bottom: 25px; text-align: center;">🍽️ Restauration sur place</h3>
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                                    <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid ${primaryColor};">
                                        <h4 style="font-weight: bold; color: ${primaryColor}; margin-bottom: 10px;">🥗 Menu du jour</h4>
                                        <p style="color: #6b7280;">Entrée + Plat + Dessert à partir de 18€</p>
                                    </div>
                                    <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid ${primaryColor};">
                                        <h4 style="font-weight: bold; color: ${primaryColor}; margin-bottom: 10px;">🍷 Carte des vins</h4>
                                        <p style="color: #6b7280;">Sélection de vins français et internationaux</p>
                                    </div>
                                    <div style="background: white; padding: 20px; border-radius: 10px; border-left: 4px solid ${primaryColor};">
                                        <h4 style="font-weight: bold; color: ${primaryColor}; margin-bottom: 10px;">🎂 Événements privés</h4>
                                        <p style="color: #6b7280;">Anniversaires, mariages, réceptions d'entreprise</p>
                                    </div>
                                </div>
                            </div>
                            <div style="background: linear-gradient(135deg, ${primaryColor}11, #ffffff); padding: 40px; border-radius: 15px;">
                                <h3 style="font-size: 2rem; font-weight: bold; color: ${primaryColor}; margin-bottom: 25px; text-align: center;">🚀 Services additionnels</h3>
                                <div style="text-align: center;">
                                    <div style="display: inline-flex; background: ${primaryColor}; color: white; padding: 15px 30px; border-radius: 25px; margin: 10px; font-weight: bold;">📱 Réservation en ligne</div>
                                    <div style="display: inline-flex; background: ${primaryColor}; color: white; padding: 15px 30px; border-radius: 25px; margin: 10px; font-weight: bold;">🚚 Livraison à domicile</div>
                                    <div style="display: inline-flex; background: ${primaryColor}; color: white; padding: 15px 30px; border-radius: 25px; margin: 10px; font-weight: bold;">🥡 Plats à emporter</div>
                                </div>
                            </div>
                        </div>
                    `;
                    break;
                    
                default:
                    servicesContent += `
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
                            <div style="background: #f8fafc; padding: 30px; border-radius: 15px; border-left: 6px solid ${primaryColor};">
                                <h3 style="font-size: 1.8rem; font-weight: bold; color: ${primaryColor}; margin-bottom: 20px;">🎯 Service Principal</h3>
                                <p style="color: #6b7280; line-height: 1.6; margin-bottom: 20px;">
                                    Notre service phare adapté à vos besoins spécifiques avec un accompagnement personnalisé.
                                </p>
                                <ul style="color: #4b5563; margin-bottom: 20px;">
                                    <li>✓ Consultation gratuite</li>
                                    <li>✓ Devis personnalisé</li>
                                    <li>✓ Suivi de qualité</li>
                                    <li>✓ Garantie satisfaction</li>
                                </ul>
                            </div>
                            <div style="background: #f8fafc; padding: 30px; border-radius: 15px; border-left: 6px solid ${primaryColor};">
                                <h3 style="font-size: 1.8rem; font-weight: bold; color: ${primaryColor}; margin-bottom: 20px;">⚡ Service Express</h3>
                                <p style="color: #6b7280; line-height: 1.6; margin-bottom: 20px;">
                                    Solution rapide pour les besoins urgents avec intervention sous 24h.
                                </p>
                                <ul style="color: #4b5563; margin-bottom: 20px;">
                                    <li>✓ Intervention rapide</li>
                                    <li>✓ Disponibilité 7j/7</li>
                                    <li>✓ Équipe experte</li>
                                    <li>✓ Tarif préférentiel</li>
                                </ul>
                            </div>
                            <div style="background: linear-gradient(135deg, ${primaryColor}22, #ffffff); padding: 30px; border-radius: 15px; border-left: 6px solid ${primaryColor};">
                                <h3 style="font-size: 1.8rem; font-weight: bold; color: ${primaryColor}; margin-bottom: 20px;">🏆 Service Premium</h3>
                                <p style="color: #6b7280; line-height: 1.6; margin-bottom: 20px;">
                                    L'excellence de notre expertise avec un service haut de gamme et un suivi privilégié.
                                </p>
                                <ul style="color: #4b5563; margin-bottom: 20px;">
                                    <li>✓ Service VIP</li>
                                    <li>✓ Accompagnement dédié</li>
                                    <li>✓ Garantie étendue</li>
                                    <li>✓ Support prioritaire</li>
                                </ul>
                            </div>
                        </div>
                    `;
            }
            
            return servicesContent + '</div></div></div>';
        }

        function generatePortfolioPage() {
            const { primaryColor, photos } = websiteData;
            
            let portfolioContent = `
                <div id="page-portfolio" class="page-content" style="display: none;">
                    <div style="padding: 60px 20px; background: white;">
                        <div style="max-width: 1000px; margin: 0 auto;">
                            <h1 style="font-size: 3rem; color: ${primaryColor}; text-align: center; margin-bottom: 50px;">Notre Portfolio</h1>
            `;
            
            if (photos && photos.length > 0) {
                portfolioContent += `
                    <div style="margin-bottom: 50px;">
                        <h2 style="font-size: 2rem; color: ${primaryColor}; text-align: center; margin-bottom: 30px;">📸 Nos Réalisations</h2>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 25px;">
                            ${photos.map((photo, index) => `
                                <div style="position: relative; overflow: hidden; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); transition: transform 0.3s;">
                                    <img src="${photo.data}" alt="Réalisation ${index + 1}" style="width: 100%; height: 200px; object-fit: cover;">
                                    <div style="position: absolute; inset: 0; background: linear-gradient(135deg, ${primaryColor}33, transparent); display: flex; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.3s;" onmouseover="this.style.opacity=1" onmouseout="this.style.opacity=0">
                                        <div style="color: white; font-weight: bold; text-shadow: 0 2px 4px rgba(0,0,0,0.5);">Projet ${index + 1}</div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            }
            
            portfolioContent += `
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
                    <div style="background: #f8fafc; padding: 30px; border-radius: 15px; text-align: center;">
                        <div style="font-size: 4rem; margin-bottom: 20px;">🏆</div>
                        <h3 style="color: ${primaryColor}; font-weight: bold; font-size: 1.5rem; margin-bottom: 15px;">Projet Excellence</h3>
                        <p style="color: #6b7280; line-height: 1.6;">
                            Un projet d'envergure qui démontre notre expertise et notre capacité à relever les défis les plus complexes.
                        </p>
                    </div>
                    <div style="background: #f8fafc; padding: 30px; border-radius: 15px; text-align: center;">
                        <div style="font-size: 4rem; margin-bottom: 20px;">⚡</div>
                        <h3 style="color: ${primaryColor}; font-weight: bold; font-size: 1.5rem; margin-bottom: 15px;">Innovation</h3>
                        <p style="color: #6b7280; line-height: 1.6;">
                            Solutions innovantes et créatives qui ont permis d'atteindre des résultats exceptionnels.
                        </p>
                    </div>
                    <div style="background: #f8fafc; padding: 30px; border-radius: 15px; text-align: center;">
                        <div style="font-size: 4rem; margin-bottom: 20px;">💎</div>
                        <h3 style="color: ${primaryColor}; font-weight: bold; font-size: 1.5rem; margin-bottom: 15px;">Qualité Premium</h3>
                        <p style="color: #6b7280; line-height: 1.6;">
                            Un travail de précision qui reflète notre engagement envers l'excellence et la satisfaction client.
                        </p>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 50px;">
                    <div style="background: ${primaryColor}; color: white; padding: 20px 40px; border-radius: 25px; display: inline-block; font-weight: bold; font-size: 1.1rem;">
                        📞 Discutons de votre projet
                    </div>
                </div>
            `;
            
            return portfolioContent + '</div></div></div>';
        }

        function generateBlogPage() {
            const { primaryColor } = websiteData;
            
            return `
                <div id="page-blog" class="page-content" style="display: none;">
                    <div style="padding: 60px 20px; background: white;">
                        <div style="max-width: 900px; margin: 0 auto;">
                            <h1 style="font-size: 3rem; color: ${primaryColor}; text-align: center; margin-bottom: 50px;">Blog & Actualités</h1>
                            
                            <!-- Catégories -->
                            <div style="text-align: center; margin-bottom: 40px;">
                                <div style="display: inline-flex; gap: 15px; flex-wrap: wrap;">
                                    <div style="background: ${primaryColor}; color: white; padding: 8px 20px; border-radius: 20px; font-weight: bold; font-size: 0.9rem;">📰 Actualités</div>
                                    <div style="background: #f3f4f6; color: #6b7280; padding: 8px 20px; border-radius: 20px; font-weight: bold; font-size: 0.9rem;">💡 Conseils</div>
                                    <div style="background: #f3f4f6; color: #6b7280; padding: 8px 20px; border-radius: 20px; font-weight: bold; font-size: 0.9rem;">🔧 Tutoriels</div>
                                </div>
                            </div>
                            
                            <!-- Articles -->
                            <div style="display: grid; gap: 40px;">
                                <article style="background: #f8fafc; padding: 30px; border-radius: 15px; border-left: 6px solid ${primaryColor};">
                                    <div style="display: flex; gap: 15px; align-items: center; margin-bottom: 15px;">
                                        <div style="background: ${primaryColor}; color: white; padding: 4px 12px; border-radius: 15px; font-size: 0.8rem; font-weight: bold;">ACTUALITÉ</div>
                                        <div style="color: #9ca3af; font-size: 0.9rem;">📅 ${new Date().toLocaleDateString('fr-FR')}</div>
                                    </div>
                                    <h2 style="color: ${primaryColor}; font-size: 1.8rem; font-weight: bold; margin-bottom: 15px;">
                                        Nos dernières innovations au service de votre satisfaction
                                    </h2>
                                    <p style="color: #4b5563; line-height: 1.7; margin-bottom: 15px;">
                                        Nous sommes fiers de vous présenter nos dernières innovations qui révolutionnent notre approche 
                                        et améliorent considérablement la qualité de nos services...
                                    </p>
                                    <div style="text-align: right;">
                                        <span style="color: ${primaryColor}; font-weight: bold; cursor: pointer;">Lire la suite →</span>
                                    </div>
                                </article>
                                
                                <article style="background: #f8fafc; padding: 30px; border-radius: 15px; border-left: 6px solid ${primaryColor};">
                                    <div style="display: flex; gap: 15px; align-items: center; margin-bottom: 15px;">
                                        <div style="background: #10b981; color: white; padding: 4px 12px; border-radius: 15px; font-size: 0.8rem; font-weight: bold;">CONSEILS</div>
                                        <div style="color: #9ca3af; font-size: 0.9rem;">📅 ${new Date(Date.now() - 86400000 * 3).toLocaleDateString('fr-FR')}</div>
                                    </div>
                                    <h2 style="color: ${primaryColor}; font-size: 1.8rem; font-weight: bold; margin-bottom: 15px;">
                                        Comment optimiser votre expérience avec nos services
                                    </h2>
                                    <p style="color: #4b5563; line-height: 1.7; margin-bottom: 15px;">
                                        Découvrez nos conseils d'experts pour tirer le meilleur parti de nos services et obtenir 
                                        des résultats encore plus satisfaisants...
                                    </p>
                                    <div style="text-align: right;">
                                        <span style="color: ${primaryColor}; font-weight: bold; cursor: pointer;">Lire la suite →</span>
                                    </div>
                                </article>
                                
                                <article style="background: #f8fafc; padding: 30px; border-radius: 15px; border-left: 6px solid ${primaryColor};">
                                    <div style="display: flex; gap: 15px; align-items: center; margin-bottom: 15px;">
                                        <div style="background: #f59e0b; color: white; padding: 4px 12px; border-radius: 15px; font-size: 0.8rem; font-weight: bold;">TUTORIEL</div>
                                        <div style="color: #9ca3af; font-size: 0.9rem;">📅 ${new Date(Date.now() - 86400000 * 7).toLocaleDateString('fr-FR')}</div>
                                    </div>
                                    <h2 style="color: ${primaryColor}; font-size: 1.8rem; font-weight: bold; margin-bottom: 15px;">
                                        Guide complet : Tout ce que vous devez savoir
                                    </h2>
                                    <p style="color: #4b5563; line-height: 1.7; margin-bottom: 15px;">
                                        Un guide détaillé qui vous accompagne pas à pas pour comprendre tous les aspects 
                                        de notre domaine d'expertise...
                                    </p>
                                    <div style="text-align: right;">
                                        <span style="color: ${primaryColor}; font-weight: bold; cursor: pointer;">Lire la suite →</span>
                                    </div>
                                </article>
                            </div>
                            
                            <div style="text-align: center; margin-top: 50px;">
                                <div style="background: ${primaryColor}; color: white; padding: 15px 30px; border-radius: 25px; display: inline-block; font-weight: bold;">
                                    📧 S'abonner à la newsletter
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function generateContactPage() {
            const { primaryColor, phone, address, businessEmail, mainTitle } = websiteData;
            
            return `
                <div id="page-contact" class="page-content" style="display: none;">
                    <div style="padding: 60px 20px; background: white;">
                        <div style="max-width: 1000px; margin: 0 auto;">
                            <h1 style="font-size: 3rem; color: ${primaryColor}; text-align: center; margin-bottom: 50px;">Contactez-nous</h1>
                            
                            <div style="display: grid; lg:grid-template-columns: 1fr 1fr; gap: 50px;">
                                <!-- Informations de contact -->
                                <div>
                                    <h2 style="color: ${primaryColor}; font-size: 2rem; margin-bottom: 30px;">📞 Nos Coordonnées</h2>
                                    
                                    <div style="display: grid; gap: 25px;">
                                        ${phone ? `
                                            <div style="background: #f8fafc; padding: 25px; border-radius: 15px; border-left: 6px solid ${primaryColor};">
                                                <div style="display: flex; align-items: center; gap: 15px;">
                                                    <div style="background: ${primaryColor}; color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">📱</div>
                                                    <div>
                                                        <h3 style="font-weight: bold; color: ${primaryColor}; margin-bottom: 5px;">Téléphone</h3>
                                                        <p style="color: #4b5563; font-size: 1.1rem;">${phone}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        ` : ''}
                                        
                                        ${businessEmail ? `
                                            <div style="background: #f8fafc; padding: 25px; border-radius: 15px; border-left: 6px solid ${primaryColor};">
                                                <div style="display: flex; align-items: center; gap: 15px;">
                                                    <div style="background: ${primaryColor}; color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">📧</div>
                                                    <div>
                                                        <h3 style="font-weight: bold; color: ${primaryColor}; margin-bottom: 5px;">Email</h3>
                                                        <p style="color: #4b5563; font-size: 1.1rem;">${businessEmail}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        ` : ''}
                                        
                                        ${address ? `
                                            <div style="background: #f8fafc; padding: 25px; border-radius: 15px; border-left: 6px solid ${primaryColor};">
                                                <div style="display: flex; align-items: center; gap: 15px;">
                                                    <div style="background: ${primaryColor}; color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">📍</div>
                                                    <div>
                                                        <h3 style="font-weight: bold; color: ${primaryColor}; margin-bottom: 5px;">Adresse</h3>
                                                        <p style="color: #4b5563; font-size: 1.1rem;">${address}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        ` : ''}
                                        
                                        <div style="background: #f8fafc; padding: 25px; border-radius: 15px; border-left: 6px solid ${primaryColor};">
                                            <div style="display: flex; align-items: center; gap: 15px;">
                                                <div style="background: ${primaryColor}; color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">⏰</div>
                                                <div>
                                                    <h3 style="font-weight: bold; color: ${primaryColor}; margin-bottom: 5px;">Horaires</h3>
                                                    <p style="color: #4b5563; font-size: 1.1rem;">Lun-Ven: 9h-18h<br>Sam: 9h-12h</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Formulaire de contact -->
                                <div>
                                    <h2 style="color: ${primaryColor}; font-size: 2rem; margin-bottom: 30px;">✉️ Nous Écrire</h2>
                                    
                                    <form style="background: #f8fafc; padding: 30px; border-radius: 15px; border: 2px solid #e5e7eb;">
                                        <div style="display: grid; gap: 20px;">
                                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                                <div>
                                                    <label style="display: block; font-weight: bold; color: #374151; margin-bottom: 5px;">Nom *</label>
                                                    <input type="text" required style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 1rem;">
                                                </div>
                                                <div>
                                                    <label style="display: block; font-weight: bold; color: #374151; margin-bottom: 5px;">Prénom *</label>
                                                    <input type="text" required style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 1rem;">
                                                </div>
                                            </div>
                                            
                                            <div>
                                                <label style="display: block; font-weight: bold; color: #374151; margin-bottom: 5px;">Email *</label>
                                                <input type="email" required style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 1rem;">
                                            </div>
                                            
                                            <div>
                                                <label style="display: block; font-weight: bold; color: #374151; margin-bottom: 5px;">Téléphone</label>
                                                <input type="tel" style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 1rem;">
                                            </div>
                                            
                                            <div>
                                                <label style="display: block; font-weight: bold; color: #374151; margin-bottom: 5px;">Sujet *</label>
                                                <select required style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 1rem;">
                                                    <option value="">Choisissez un sujet</option>
                                                    <option value="devis">Demande de devis</option>
                                                    <option value="info">Demande d'information</option>
                                                    <option value="rdv">Prise de rendez-vous</option>
                                                    <option value="autre">Autre</option>
                                                </select>
                                            </div>
                                            
                                            <div>
                                                <label style="display: block; font-weight: bold; color: #374151; margin-bottom: 5px;">Message *</label>
                                                <textarea required rows="5" style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 1rem; resize: vertical;" placeholder="Décrivez votre demande..."></textarea>
                                            </div>
                                            
                                            <!-- Conformité RGPD -->
                                            <div style="display: flex; align-items: flex-start; gap: 10px;">
                                                <input type="checkbox" required style="margin-top: 4px;">
                                                <label style="font-size: 0.9rem; color: #6b7280; line-height: 1.4;">
                                                    J'accepte que mes données personnelles soient utilisées pour me recontacter concernant ma demande. 
                                                    <a href="#" style="color: ${primaryColor}; text-decoration: underline;">Politique de confidentialité</a>
                                                </label>
                                            </div>
                                            
                                            <button type="submit" style="background: ${primaryColor}; color: white; padding: 15px 30px; border: none; border-radius: 8px; font-size: 1.1rem; font-weight: bold; cursor: pointer; transition: all 0.3s;">
                                                📨 Envoyer le message
                                            </button>
                                        </div>
                                    </form>
                                    
                                    <div style="text-align: center; margin-top: 30px; padding: 20px; background: #f0f9ff; border-radius: 10px; border: 1px solid ${primaryColor};">
                                        <p style="color: ${primaryColor}; font-weight: bold; margin: 0;">⚡ Réponse garantie sous 24h</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function generateFooter() {
            const { primaryColor, mainTitle, phone, businessEmail, address } = websiteData;
            
            return `
                <!-- Footer -->
                <footer style="background: linear-gradient(135deg, #1f2937, #111827); color: white; padding: 60px 20px 30px;">
                    <div style="max-width: 1200px; margin: 0 auto;">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 40px; margin-bottom: 40px;">
                            
                            <!-- Informations entreprise -->
                            <div>
                                <h3 style="color: ${primaryColor}; font-size: 1.5rem; font-weight: bold; margin-bottom: 20px;">${mainTitle}</h3>
                                <p style="color: #d1d5db; line-height: 1.6; margin-bottom: 20px;">
                                    Votre partenaire de confiance pour des services d'exception. 
                                    Nous nous engageons à dépasser vos attentes.
                                </p>
                                <div style="display: flex; gap: 15px;">
                                    <a href="#" style="background: ${primaryColor}; color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; text-decoration: none; transition: all 0.3s;">
                                        <i class="fab fa-facebook-f"></i>
                                    </a>
                                    <a href="#" style="background: ${primaryColor}; color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; text-decoration: none; transition: all 0.3s;">
                                        <i class="fab fa-twitter"></i>
                                    </a>
                                    <a href="#" style="background: ${primaryColor}; color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; text-decoration: none; transition: all 0.3s;">
                                        <i class="fab fa-linkedin-in"></i>
                                    </a>
                                    <a href="#" style="background: ${primaryColor}; color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; text-decoration: none; transition: all 0.3s;">
                                        <i class="fab fa-instagram"></i>
                                    </a>
                                </div>
                            </div>
                            
                            <!-- Liens rapides -->
                            <div>
                                <h4 style="color: ${primaryColor}; font-weight: bold; margin-bottom: 20px;">Liens Rapides</h4>
                                <ul style="list-style: none; padding: 0; margin: 0;">
                                    <li style="margin-bottom: 10px;"><a href="#" onclick="showPage('accueil')" style="color: #d1d5db; text-decoration: none;">Accueil</a></li>
                                    <li style="margin-bottom: 10px;"><a href="#" onclick="showPage('apropos')" style="color: #d1d5db; text-decoration: none;">À propos</a></li>
                                    <li style="margin-bottom: 10px;"><a href="#" onclick="showPage('services')" style="color: #d1d5db; text-decoration: none;">Services</a></li>
                                    <li style="margin-bottom: 10px;"><a href="#" onclick="showPage('portfolio')" style="color: #d1d5db; text-decoration: none;">Portfolio</a></li>
                                    <li style="margin-bottom: 10px;"><a href="#" onclick="showPage('blog')" style="color: #d1d5db; text-decoration: none;">Blog</a></li>
                                    <li style="margin-bottom: 10px;"><a href="#" onclick="showPage('contact')" style="color: #d1d5db; text-decoration: none;">Contact</a></li>
                                </ul>
                            </div>
                            
                            <!-- Contact info -->
                            <div>
                                <h4 style="color: ${primaryColor}; font-weight: bold; margin-bottom: 20px;">Contact</h4>
                                <div style="color: #d1d5db; line-height: 1.8;">
                                    ${phone ? `<p>📱 ${phone}</p>` : ''}
                                    ${businessEmail ? `<p>📧 ${businessEmail}</p>` : ''}
                                    ${address ? `<p>📍 ${address}</p>` : ''}
                                    <p>⏰ Lun-Ven: 9h-18h</p>
                                </div>
                            </div>
                            
                            <!-- Légal -->
                            <div>
                                <h4 style="color: ${primaryColor}; font-weight: bold; margin-bottom: 20px;">Informations Légales</h4>
                                <ul style="list-style: none; padding: 0; margin: 0; color: #d1d5db;">
                                    <li style="margin-bottom: 10px;"><a href="#" style="color: #d1d5db; text-decoration: none;">Mentions légales</a></li>
                                    <li style="margin-bottom: 10px;"><a href="#" style="color: #d1d5db; text-decoration: none;">Politique de confidentialité</a></li>
                                    <li style="margin-bottom: 10px;"><a href="#" style="color: #d1d5db; text-decoration: none;">Conditions générales</a></li>
                                    <li style="margin-bottom: 10px;"><a href="#" style="color: #d1d5db; text-decoration: none;">Cookies</a></li>
                                </ul>
                            </div>
                        </div>
                        
                        <!-- Copyright -->
                        <div style="border-top: 1px solid #374151; padding-top: 30px; text-align: center;">
                            <p style="color: #9ca3af; margin: 0;">
                                © ${new Date().getFullYear()} ${mainTitle}. Tous droits réservés. | 
                                Site créé avec ❤️ par IA WebGen
                            </p>
                        </div>
                    </div>
                </footer>
                
                <!-- Bannière cookies RGPD -->
                <div id="cookie-banner" style="position: fixed; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.95); color: white; padding: 20px; z-index: 1000;">
                    <div style="max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; gap: 20px; flex-wrap: wrap;">
                        <div style="flex: 1;">
                            <p style="margin: 0; font-size: 0.9rem;">
                                🍪 Ce site utilise des cookies pour améliorer votre expérience. 
                                En continuant, vous acceptez notre <a href="#" style="color: ${primaryColor};">politique de cookies</a>.
                            </p>
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button onclick="document.getElementById('cookie-banner').style.display='none'" 
                                    style="background: #6b7280; color: white; padding: 8px 16px; border: none; border-radius: 5px; cursor: pointer;">
                                Refuser
                            </button>
                            <button onclick="document.getElementById('cookie-banner').style.display='none'" 
                                    style="background: ${primaryColor}; color: white; padding: 8px 16px; border: none; border-radius: 5px; cursor: pointer;">
                                Accepter
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        // Navigation
        function goBackToMain() {
            document.getElementById('previewSection').style.display = 'none';
            document.getElementById('qualityTemplates').style.display = 'none';
            document.getElementById('mainSection').style.display = 'block';
            window.scrollTo(0, 0);
        }

        function goBackToTemplates() {
            document.getElementById('previewSection').style.display = 'none';
            document.getElementById('qualityTemplates').style.display = 'block';
            window.scrollTo(0, 0);
        }

        // Sélection d'offre et paiement
        function selectOffer(type) {
            currentOffer = type;
            
            let basePrice = (type === 'site') ? 15 : 49;
            let templateCost = 0;
            
            if (type === 'site' && allTemplates[selectedTemplate] && allTemplates[selectedTemplate].isPremium) {
                templateCost = 5;
            }
            
            let finalPrice = basePrice + templateCost;
            
            const sitePrice = document.getElementById('sitePrice');
            if (sitePrice && type === 'site') {
                sitePrice.textContent = `${finalPrice}€`;
            }
            
            document.querySelectorAll('.offer-radio').forEach(radio => {
                radio.checked = radio.value === type;
            });
            
            const payButton = document.getElementById('payButton');
            if (payButton) {
                payButton.innerHTML = `💳 COMMANDER SITE COMPLET - ${finalPrice}€`;
                payButton.style.backgroundColor = type === 'site' ? '#3b82f6' : '#10b981';
            }
        }

        function processPayment() {
            if (!currentUser) {
                showNotification('❌ Vous devez être connecté pour effectuer un achat !');
                showLogin();
                return;
            }

            let basePrice = (currentOffer === 'site') ? 15 : 49;
            let templateCost = 0;
            
            if (currentOffer === 'site' && allTemplates[selectedTemplate] && allTemplates[selectedTemplate].isPremium) {
                templateCost = 5;
            }
            
            let finalPrice = basePrice + templateCost;
            
            const templateName = allTemplates[selectedTemplate] ? allTemplates[selectedTemplate].name : 'Standard';
            const itemName = currentOffer === 'site' 
                ? `Site+Complet+Pro+Theme+${templateName.replace(/\s+/g, '+')}+-+IA+WebGen`
                : 'Conciergerie+Site+Complet+Premium+-+IA+WebGen';
            
            const paypalUrl = `https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&business=assakourc@gmail.com&item_name=${itemName}&amount=${finalPrice}.00&currency_code=EUR&return=${encodeURIComponent(window.location.href)}&cancel_return=${encodeURIComponent(window.location.href)}`;

            const message = `🏆 Commande Site Complet confirmée !\n\n` +
                          `📋 Récapitulatif :\n` +
                          `• Site complet: 7 pages professionnelles\n` +
                          `• Thème: ${templateName} ${allTemplates[selectedTemplate] && allTemplates[selectedTemplate].isPremium ? '(Premium +5€)' : '(Gratuit)'}\n` +
                          `• Fonctionnalités: Menu sticky, Blog, Portfolio, Contact, RGPD\n` +
                          `• Offre: ${currentOffer === 'site' ? 'Site Complet Pro' : 'Conciergerie Site Complet'}\n` +
                          `• Prix total: ${finalPrice}€\n\n` +
                          `Procéder au paiement PayPal ?`;

            if (confirm(message)) {
                window.open(paypalUrl, '_blank');
                showNotification('🎉 Redirection PayPal... Site complet en commande !');
            }
        }

        // Fonctions d'authentification (identiques)
        function showLogin() {
            document.getElementById('authModalTitle').textContent = 'Connexion';
            document.getElementById('loginForm').style.display = 'block';
            document.getElementById('registerForm').style.display = 'none';
            document.getElementById('authModal').style.display = 'block';
        }

        function showRegister() {
            document.getElementById('authModalTitle').textContent = 'Inscription';
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('registerForm').style.display = 'block';
            document.getElementById('authModal').style.display = 'block';
        }

        function showLoginForm() { showLogin(); }
        function showRegisterForm() { showRegister(); }
        function closeAuthModal() { document.getElementById('authModal').style.display = 'none'; }

        function login(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const user = { email, name: email.split('@')[0] };
            currentUser = user;
            localStorage.setItem('currentUser', JSON.stringify(user));
            showUserMenu();
            closeAuthModal();
            showNotification('✅ Connexion réussie !');
        }

        function register(event) {
            event.preventDefault();
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const user = { email, name };
            currentUser = user;
            localStorage.setItem('currentUser', JSON.stringify(user));
            showUserMenu();
            closeAuthModal();
            showNotification('✅ Inscription réussie !');
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            document.getElementById('authButtons').style.display = 'flex';
            document.getElementById('userMenu').style.display = 'none';
            showNotification('Déconnexion réussie !');
        }

        function showUserMenu() {
            document.getElementById('authButtons').style.display = 'none';
            document.getElementById('userMenu').style.display = 'block';
            document.getElementById('userName').textContent = `👋 ${currentUser.name}`;
        }

        // Fonctions de partage (identiques)
        function toggleShareMenu() {
            const menu = document.getElementById('shareMenu');
            menu.classList.toggle('hidden');
        }

        function shareOnFacebook() {
            const url = window.location.href;
            const fbUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`;
            window.open(fbUrl, '_blank', 'width=600,height=400');
            showNotification('🎁 Code SHARE10 activé ! 10% de réduction !');
            document.getElementById('shareMenu').classList.add('hidden');
        }

        function shareOnTwitter() {
            const url = window.location.href;
            const text = "🏆 Incroyable ! IA WebGen crée des sites complets avec toutes les pages !";
            const twitterUrl = `https://twitter.com/intent/tweet?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`;
            window.open(twitterUrl, '_blank', 'width=600,height=400');
            showNotification('🎁 Code SHARE10 activé ! 10% de réduction !');
            document.getElementById('shareMenu').classList.add('hidden');
        }

        function shareOnWhatsApp() {
            const url = window.location.href;
            const text = "🏆 Regarde ! IA WebGen crée des sites complets avec toutes les pages : ";
            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(text + url)}`;
            window.open(whatsappUrl, '_blank');
            showNotification('🎁 Code SHARE10 activé ! Économisez 10% !');
            document.getElementById('shareMenu').classList.add('hidden');
        }

        function copyLink() {
            navigator.clipboard.writeText(window.location.href).then(() => {
                showNotification('🔗 Lien copié ! Code promo SHARE10 = -10% !');
                document.getElementById('shareMenu').classList.add('hidden');
            });
        }

        document.addEventListener('click', (e) => {
            if (!e.target.closest('.share-widget')) {
                document.getElementById('shareMenu').classList.add('hidden');
            }
        });

        function showNotification(message) {
            const notification = document.getElementById('notification');
            const text = document.getElementById('notificationText');
            if (notification && text) {
                text.textContent = message;
                notification.style.display = 'block';
                
                setTimeout(() => {
                    notification.style.display = 'none';
                }, 5000);
            }
        }
    </script>
</body>
</html>
