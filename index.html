<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IA WebGen - Cr√©ateur de Sites Web Intelligents</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-hover:hover { transform: translateY(-5px); transition: transform 0.3s ease; }
        .fade-in { animation: fadeIn 0.8s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .preview-section { display: none; }
        .quality-templates { display: none; }
        .smart-requirements { display: none; }
        .template-card { cursor: pointer; transition: all 0.3s; border: 3px solid transparent; }
        .template-card:hover { transform: scale(1.02); box-shadow: 0 10px 25px rgba(0,0,0,0.15); }
        .template-card.selected { border: 3px solid #10b981; background: #f0fdf4; }
        .requirement-card { border: 2px solid #e5e7eb; border-radius: 12px; padding: 20px; transition: all 0.3s; cursor: pointer; }
        .requirement-card:hover { border-color: #3b82f6; transform: translateY(-2px); }
        .requirement-card.selected { border-color: #10b981; background: #f0fdf4; }
        .notification { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 1001; display: none; }
        .nav-link { cursor: pointer; transition: all 0.3s; }
        .nav-link:hover { transform: translateY(-2px); }
        .page-content { display: none; }
        .page-content.active { display: block; }
    </style>
</head>
<body class="font-sans">
    
    <!-- Notification -->
    <div id="notification" class="notification bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg">
        <span id="notificationText">Message</span>
    </div>

    <!-- Header -->
    <div class="gradient-bg text-white py-4 fade-in">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center flex-wrap">
                <h1 class="text-2xl font-bold">ü§ñ IA WebGen</h1>
                <div class="flex items-center gap-4">
                    <span class="bg-green-500 px-3 py-1 rounded-full text-xs sm:text-sm">
                        ‚ú® Cr√©ez votre site exactement comme vous le voulez !
                    </span>
                </div>
            </div>
        </div>
    </div>

    <!-- Section principale -->
    <div id="mainSection">
        <section class="gradient-bg text-white py-20 fade-in">
            <div class="container mx-auto px-4 text-center">
                <h2 class="text-3xl sm:text-5xl font-bold mb-6">
                    üéØ D√©crivez votre site, nous le cr√©ons !
                </h2>
                <p class="text-lg sm:text-xl mb-8 opacity-90">
                    Notre syst√®me comprend vos besoins et g√©n√®re un site professionnel personnalis√©
                </p>
                
                <div class="bg-white bg-opacity-10 backdrop-filter backdrop-blur-lg rounded-lg p-6 sm:p-8 max-w-2xl mx-auto">
                    <h3 class="text-xl sm:text-2xl font-bold mb-6">üöÄ Cr√©er mon site</h3>
                    
                    <form id="websiteForm" class="space-y-4">
                        <div class="grid md:grid-cols-2 gap-4">
                            <input type="text" id="businessName" placeholder="Nom de votre entreprise" 
                                   class="w-full p-3 rounded-lg text-gray-800 font-medium" required>
                            
                            <select id="siteType" class="w-full p-3 rounded-lg text-gray-800 font-medium" required>
                                <option value="">Type d'activit√©</option>
                                <option value="restaurant">üçΩÔ∏è Restaurant</option>
                                <option value="ecommerce">üõçÔ∏è E-commerce</option>
                                <option value="service">üîß Service professionnel</option>
                                <option value="medical">üè• Cabinet m√©dical</option>
                                <option value="autre">‚ú® Autre activit√©</option>
                            </select>
                        </div>
                        
                        <textarea id="description" placeholder="D√©crivez votre activit√© et vos services..." 
                                  class="w-full p-3 rounded-lg text-gray-800 font-medium h-24" required></textarea>
                        
                        <input type="email" id="userEmail" placeholder="Votre email" 
                               class="w-full p-3 rounded-lg text-gray-800 font-medium" required>
                        
                        <button type="submit" class="w-full bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white font-bold py-4 px-6 rounded-lg transform hover:scale-105 transition-all duration-200 text-lg">
                            üéØ ANALYSER MES BESOINS
                        </button>
                    </form>
                </div>
            </div>
        </section>
    </div>

    <!-- Section Besoins -->
    <section id="smartRequirements" class="smart-requirements py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-gray-800 mb-4">üéØ Choisissez vos pages</h3>
                <p class="text-xl text-gray-600">S√©lectionnez ce que vous voulez sur votre site</p>
                <button onclick="goBackToMain()" class="mt-4 bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600">
                    <i class="fas fa-arrow-left mr-2"></i>Retour
                </button>
            </div>
            
            <div class="max-w-6xl mx-auto">
                <div class="mb-8">
                    <h4 class="text-2xl font-bold text-gray-800 mb-6">üìÑ Pages disponibles</h4>
                    <div id="basicPages" class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <!-- G√©n√©r√© par JS -->
                    </div>
                </div>

                <div class="mb-8">
                    <h4 class="text-2xl font-bold text-gray-800 mb-6">üí¨ Demandes sp√©ciales</h4>
                    <div class="bg-white rounded-lg p-6 shadow-lg">
                        <textarea id="customRequests" 
                                  placeholder="D√©crivez exactement ce que vous voulez sur votre site..." 
                                  class="w-full p-4 border rounded-lg h-32 resize-none"></textarea>
                    </div>
                </div>
            </div>
            
            <div class="text-center mt-8">
                <button onclick="generateCustomSite()" class="bg-green-500 text-white px-8 py-4 rounded-lg font-bold text-lg hover:bg-green-600">
                    <i class="fas fa-magic mr-2"></i>CR√âER MON SITE
                </button>
            </div>
        </div>
    </section>

    <!-- Section Templates -->
    <section id="qualityTemplates" class="quality-templates py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-gray-800 mb-4">üé® Choisissez votre design</h3>
                <p class="text-xl text-gray-600">S√©lectionnez le style qui vous pla√Æt</p>
                <button onclick="goBackToRequirements()" class="mt-4 bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600">
                    <i class="fas fa-arrow-left mr-2"></i>Retour
                </button>
            </div>
            
            <div id="templateGrid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto">
                <!-- G√©n√©r√© par JS -->
            </div>
            
            <div class="text-center mt-8">
                <button onclick="proceedWithSelectedTemplate()" id="continueBtn" 
                        class="bg-green-500 text-white px-8 py-4 rounded-lg font-bold text-lg hover:bg-green-600 disabled:opacity-50" disabled>
                    <i class="fas fa-eye mr-2"></i>VOIR MON SITE
                </button>
            </div>
        </div>
    </section>

    <!-- Section Pr√©visualisation -->
    <section id="previewSection" class="preview-section min-h-screen bg-gray-100 py-8">
        <div class="container mx-auto px-4">
            <div class="bg-white rounded-lg shadow-lg p-6">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold text-gray-800">
                        üéâ Votre site : <span id="previewBusinessName"></span>
                    </h2>
                    <div class="flex gap-3">
                        <button onclick="goBackToTemplates()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                            <i class="fas fa-palette mr-2"></i>Changer design
                        </button>
                        <button onclick="goBackToRequirements()" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">
                            <i class="fas fa-edit mr-2"></i>Modifier
                        </button>
                    </div>
                </div>
                
                <div class="grid lg:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-lg font-bold mb-4">üñ•Ô∏è Aper√ßu</h3>
                        <div id="websitePreview" class="border-2 border-gray-300 rounded-lg bg-white overflow-auto" style="height: 600px;">
                            <div style="padding: 20px; text-align: center; color: #6b7280;">
                                <i class="fas fa-spinner fa-spin" style="font-size: 2rem; margin-bottom: 10px;"></i>
                                <p>G√©n√©ration en cours...</p>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h3 class="text-lg font-bold mb-4">‚öôÔ∏è Personnalisation</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-bold mb-2">Nom entreprise</label>
                                <input type="text" id="mainTitle" class="w-full p-3 border rounded-lg" onchange="updatePreview()">
                            </div>
                            <div>
                                <label class="block text-sm font-bold mb-2">Description</label>
                                <textarea id="subtitle" class="w-full p-3 border rounded-lg h-20" onchange="updatePreview()"></textarea>
                            </div>
                            <div>
                                <label class="block text-sm font-bold mb-2">Couleur</label>
                                <input type="color" id="primaryColor" value="#3b82f6" class="w-full h-10 rounded" onchange="updatePreview()">
                            </div>
                            <div>
                                <label class="block text-sm font-bold mb-2">T√©l√©phone</label>
                                <input type="tel" id="phone" class="w-full p-3 border rounded-lg" onchange="updatePreview()">
                            </div>
                            <div>
                                <label class="block text-sm font-bold mb-2">Email</label>
                                <input type="email" id="businessEmail" class="w-full p-3 border rounded-lg" onchange="updatePreview()">
                            </div>
                            <button onclick="updatePreview()" class="w-full bg-blue-500 text-white py-3 rounded hover:bg-blue-600">
                                üîÑ Mettre √† jour
                            </button>
                        </div>
                        
                        <div class="mt-8 border-t pt-6">
                            <button onclick="downloadSite()" class="w-full bg-gradient-to-r from-green-500 to-blue-500 text-white py-4 px-6 rounded-lg font-bold text-lg hover:from-green-600 hover:to-blue-600">
                                üì• T√âL√âCHARGER MON SITE
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
    // Variables
    var websiteData = {};
    var selectedTemplate = null;
    var selectedRequirements = { pages: [], features: [], customRequests: '' };

    // Templates
    var TEMPLATES = [
        { id: 'modern', name: 'Modern', colors: { primary: '#3b82f6', secondary: '#1e40af' }, gradient: 'from-blue-400 to-blue-600' },
        { id: 'business', name: 'Business', colors: { primary: '#374151', secondary: '#111827' }, gradient: 'from-gray-600 to-gray-800' },
        { id: 'creative', name: 'Creative', colors: { primary: '#f59e0b', secondary: '#dc2626' }, gradient: 'from-orange-400 to-red-500' },
        { id: 'green', name: 'Nature', colors: { primary: '#10b981', secondary: '#047857' }, gradient: 'from-green-400 to-emerald-600' },
        { id: 'tech', name: 'Tech', colors: { primary: '#8b5cf6', secondary: '#7c3aed' }, gradient: 'from-purple-500 to-cyan-500' },
        { id: 'gold', name: 'Gold', colors: { primary: '#f59e0b', secondary: '#d97706' }, gradient: 'from-yellow-400 to-amber-600' }
    ];

    // Configuration secteurs
    var SECTOR_CONFIG = {
        restaurant: {
            pages: [
                { id: 'menu', name: 'Menu avec prix', icon: 'üçΩÔ∏è', desc: 'Carte avec tarifs' },
                { id: 'reservation', name: 'R√©servation', icon: 'üìÖ', desc: 'R√©server une table' },
                { id: 'gallery', name: 'Photos', icon: 'üì∏', desc: 'Galerie du restaurant' }
            ]
        },
        ecommerce: {
            pages: [
                { id: 'shop', name: 'Boutique', icon: 'üõçÔ∏è', desc: 'Catalogue produits' },
                { id: 'cart', name: 'Panier', icon: 'üõí', desc: 'Gestion panier' },
                { id: 'account', name: 'Compte', icon: 'üë§', desc: 'Espace client' }
            ]
        },
        service: {
            pages: [
                { id: 'services', name: 'Services', icon: 'üîß', desc: 'Liste des services' },
                { id: 'portfolio', name: 'Portfolio', icon: 'üíº', desc: 'Nos r√©alisations' },
                { id: 'contact', name: 'Contact', icon: 'üìû', desc: 'Nous contacter' }
            ]
        }
    };

    // Init
    document.addEventListener('DOMContentLoaded', function() {
        var form = document.getElementById('websiteForm');
        if (form) {
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                analyzeNeeds();
            });
        }
    });

    function analyzeNeeds() {
        var businessName = document.getElementById('businessName').value.trim();
        var description = document.getElementById('description').value.trim();
        var siteType = document.getElementById('siteType').value;
        var userEmail = document.getElementById('userEmail').value.trim();

        if (!businessName || !description || !siteType || !userEmail) {
            showNotification('‚ùå Veuillez remplir tous les champs !');
            return;
        }

        websiteData = {
            businessName: businessName,
            description: description,
            siteType: siteType,
            userEmail: userEmail,
            mainTitle: businessName,
            subtitle: description,
            primaryColor: '#3b82f6',
            phone: '',
            businessEmail: ''
        };

        generateRequirementsPage();
        document.getElementById('mainSection').style.display = 'none';
        document.getElementById('smartRequirements').style.display = 'block';
        window.scrollTo(0, 0);
        showNotification('üéØ Choisissez maintenant vos pages !');
    }

    function generateRequirementsPage() {
        var config = SECTOR_CONFIG[websiteData.siteType] || SECTOR_CONFIG.service;
        var container = document.getElementById('basicPages');
        container.innerHTML = '';
        
        config.pages.forEach(function(page) {
            var div = document.createElement('div');
            div.className = 'requirement-card';
            div.onclick = function() { toggleRequirement('page', page.id, div); };
            div.innerHTML = '<div class="text-center"><div class="text-3xl mb-3">' + page.icon + '</div><h4 class="font-bold text-lg mb-2">' + page.name + '</h4><p class="text-gray-600 text-sm">' + page.desc + '</p></div>';
            container.appendChild(div);
        });
    }

    function toggleRequirement(type, id, element) {
        var isSelected = element.classList.contains('selected');
        if (isSelected) {
            element.classList.remove('selected');
            var arr = selectedRequirements[type === 'page' ? 'pages' : 'features'];
            var index = arr.indexOf(id);
            if (index > -1) arr.splice(index, 1);
        } else {
            element.classList.add('selected');
            selectedRequirements[type === 'page' ? 'pages' : 'features'].push(id);
        }
    }

    function generateCustomSite() {
        selectedRequirements.customRequests = document.getElementById('customRequests').value;
        displayTemplates();
        document.getElementById('smartRequirements').style.display = 'none';
        document.getElementById('qualityTemplates').style.display = 'block';
        window.scrollTo(0, 0);
        showNotification('üé® Choisissez votre design !');
    }

    function displayTemplates() {
        var container = document.getElementById('templateGrid');
        container.innerHTML = '';
        
        TEMPLATES.forEach(function(template, index) {
            var div = document.createElement('div');
            div.className = 'template-card bg-white rounded-xl shadow-lg p-4 border-2 border-gray-200';
            div.onclick = function() { selectTemplate(index); };
            div.innerHTML = '<div class="mb-4"><div class="bg-gradient-to-br ' + template.gradient + ' h-20 rounded-lg flex items-center justify-center text-white font-bold">' + template.name + '</div></div><div class="text-center"><h4 class="font-bold">' + template.name + '</h4><p class="text-gray-600 text-xs">Design ' + template.name.toLowerCase() + '</p></div>';
            container.appendChild(div);
        });
    }

    function selectTemplate(index) {
        document.querySelectorAll('.template-card').forEach(function(card) {
            card.classList.remove('selected');
        });
        document.querySelectorAll('.template-card')[index].classList.add('selected');
        selectedTemplate = index;
        websiteData.primaryColor = TEMPLATES[index].colors.primary;
        document.getElementById('continueBtn').disabled = false;
        showNotification('‚úÖ Design s√©lectionn√© !');
    }

    function proceedWithSelectedTemplate() {
        if (selectedTemplate === null) {
            showNotification('‚ùå S√©lectionnez un design !');
            return;
        }
        document.getElementById('qualityTemplates').style.display = 'none';
        document.getElementById('previewSection').style.display = 'block';
        initializePreview();
        window.scrollTo(0, 0);
    }

    function initializePreview() {
        document.getElementById('previewBusinessName').textContent = websiteData.businessName;
        document.getElementById('mainTitle').value = websiteData.businessName;
        document.getElementById('subtitle').value = websiteData.description;
        document.getElementById('primaryColor').value = websiteData.primaryColor;
        setTimeout(updatePreview, 100);
        showNotification('‚úÖ Votre site est pr√™t !');
    }

    function updatePreview() {
        websiteData.mainTitle = document.getElementById('mainTitle').value || websiteData.businessName;
        websiteData.subtitle = document.getElementById('subtitle').value || websiteData.description;
        websiteData.primaryColor = document.getElementById('primaryColor').value;
        websiteData.phone = document.getElementById('phone').value;
        websiteData.businessEmail = document.getElementById('businessEmail').value;

        var content = generateSiteContent();
        document.getElementById('websitePreview').innerHTML = content;
    }

    function generateSiteContent() {
        var template = TEMPLATES[selectedTemplate];
        var color = websiteData.primaryColor;
        var title = websiteData.mainTitle;
        var subtitle = websiteData.subtitle;
        
        var navItems = ['Accueil'];
        selectedRequirements.pages.forEach(function(pageId) {
            var names = { menu: 'Menu', shop: 'Boutique', services: 'Services', portfolio: 'Portfolio' };
            if (names[pageId]) navItems.push(names[pageId]);
        });
        navItems.push('Contact');
        
        var content = '<div style="background: rgba(255,255,255,0.95); border-bottom: 1px solid #e5e7eb; padding: 15px 20px; position: sticky; top: 0;">';
        content += '<div style="display: flex; justify-content: space-between; align-items: center;">';
        content += '<div style="font-size: 1.5rem; font-weight: bold; color: ' + color + ';">' + title + '</div>';
        content += '<div style="display: flex; gap: 20px; font-size: 0.9rem;">';
        navItems.forEach(function(item, index) {
            var isFirst = index === 0;
            content += '<span onclick="showPage(\'' + item.toLowerCase() + '\')" style="color: ' + (isFirst ? color : '#6b7280') + '; cursor: pointer;">' + item + '</span>';
        });
        content += '</div></div></div>';

        content += '<div id="page-accueil" class="page-content active">';
        content += '<div style="background: linear-gradient(135deg, ' + color + ', ' + template.colors.secondary + '); color: white; padding: 60px 20px; text-align: center;">';
        content += '<h1 style="font-size: 2.5rem; font-weight: bold; margin-bottom: 20px;">' + title + '</h1>';
        content += '<p style="font-size: 1.2rem; margin-bottom: 30px;">' + subtitle + '</p>';
        content += '<button style="background: rgba(255,255,255,0.2); padding: 15px 30px; border: none; border-radius: 25px; color: white; font-weight: bold;">D√©couvrir</button>';
        content += '</div>';
        content += '<div style="padding: 60px 20px; background: #f8fafc;">';
        content += '<h2 style="font-size: 2rem; color: ' + color + '; text-align: center; margin-bottom: 40px;">Nos Avantages</h2>';
        content += '<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 30px; max-width: 800px; margin: 0 auto;">';
        content += '<div style="text-align: center; padding: 20px;"><div style="font-size: 3rem; margin-bottom: 15px;">‚ö°</div><h3 style="color: ' + color + ';">Rapidit√©</h3><p style="color: #666;">Service rapide</p></div>';
        content += '<div style="text-align: center; padding: 20px;"><div style="font-size: 3rem; margin-bottom: 15px;">üèÜ</div><h3 style="color: ' + color + ';">Qualit√©</h3><p style="color: #666;">Excellence</p></div>';
        content += '<div style="text-align: center; padding: 20px;"><div style="font-size: 3rem; margin-bottom: 15px;">üíØ</div><h3 style="color: ' + color + ';">Satisfaction</h3><p style="color: #666;">Clients satisfaits</p></div>';
        content += '</div></div></div>';

        // Pages s√©lectionn√©es
        selectedRequirements.pages.forEach(function(pageId) {
            if (pageId === 'menu') {
                content += '<div id="page-menu" class="page-content" style="display: none;"><div style="padding: 60px 20px; background: white;"><h1 style="font-size: 2.5rem; color: ' + color + '; text-align: center;">üçΩÔ∏è Notre Menu</h1><div style="max-width: 600px; margin: 40px auto; background: #f8fafc; padding: 30px; border-radius: 15px;"><h3 style="color: ' + color + ';">Nos Sp√©cialit√©s</h3><div style="margin: 20px 0; display: flex; justify-content: space-between;"><span>Plat du jour</span><strong style="color: ' + color + ';">15‚Ç¨</strong></div></div></div></div>';
            }
            if (pageId === 'shop') {
                content += '<div id="page-boutique" class="page-content" style="display: none;"><div style="padding: 60px 20px; background: white;"><h1 style="font-size: 2.5rem; color: ' + color + '; text-align: center;">üõçÔ∏è Boutique</h1><div style="max-width: 800px; margin: 40px auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;"><div style="background: #f8fafc; padding: 20px; border-radius: 10px; text-align: center;"><div style="height: 120px; background: #e5e7eb; border-radius: 8px; margin-bottom: 10px; display: flex; align-items: center; justify-content: center;">üì¶</div><h4 style="color: ' + color + ';">Produit 1</h4><p style="color: ' + color + '; font-weight: bold;">29‚Ç¨</p></div></div></div></div>';
            }
            if (pageId === 'services') {
                content += '<div id="page-services" class="page-content" style="display: none;"><div style="padding: 60px 20px; background: white;"><h1 style="font-size: 2.5rem; color: ' + color + '; text-align: center;">üîß Services</h1><div style="max-width: 800px; margin: 40px auto;"><div style="background: #f8fafc; padding: 30px; border-radius: 15px; text-align: center;"><div style="font-size: 3rem;">‚ö°</div><h3 style="color: ' + color + ';">Service Principal</h3><p>Description de notre service</p></div></div></div></div>';
            }
        });

        // Contact
        content += '<div id="page-contact" class="page-content" style="display: none;"><div style="padding: 60px 20px; background: white;"><h1 style="font-size: 2.5rem; color: ' + color + '; text-align: center;">üìû Contact</h1><div style="max-width: 600px; margin: 40px auto; background: #f8fafc; padding: 30px; border-radius: 15px; text-align: center;">';
        if (websiteData.phone) content += '<div style="margin: 20px 0;"><strong style="color: ' + color + ';">T√©l√©phone:</strong> ' + websiteData.phone + '</div>';
        if (websiteData.businessEmail) content += '<div style="margin: 20px 0;"><strong style="color: ' + color + ';">Email:</strong> ' + websiteData.businessEmail + '</div>';
        content += '</div></div></div>';

        content += '<footer style="background: #1f2937; color: white; padding: 40px 20px; text-align: center;"><h3 style="color: ' + color + ';">' + title + '</h3><p>¬© ' + new Date().getFullYear() + ' ' + title + '</p></footer>';

        return content;
    }

    // Navigation
    function goBackToMain() {
        document.getElementById('previewSection').style.display = 'none';
        document.getElementById('qualityTemplates').style.display = 'none';
        document.getElementById('smartRequirements').style.display = 'none';
        document.getElementById('mainSection').style.display = 'block';
        window.scrollTo(0, 0);
    }

    function goBackToRequirements() {
        document.getElementById('previewSection').style.display = 'none';
        document.getElementById('qualityTemplates').style.display = 'none';
        document.getElementById('smartRequirements').style.display = 'block';
        window.scrollTo(0, 0);
    }

    function goBackToTemplates() {
        document.getElementById('previewSection').style.display = 'none';
        document.getElementById('qualityTemplates').style.display = 'block';
        window.scrollTo(0, 0);
    }

    function downloadSite() {
        showNotification('üì• T√©l√©chargement...');
        var html = '<!DOCTYPE html><html><head><meta charset="UTF-8"><title>' + websiteData.mainTitle + '</title><style>.nav-link{cursor:pointer}.page-content{display:none}.page-content.active{display:block}</style></head><body>' + generateSiteContent() + '<script>function showPage(p){document.querySelectorAll(".page-content").forEach(function(e){e.style.display="none"});var t=document.getElementById("page-"+p);t&&(t.style.display="block")}</script></body></html>';
        var blob = new Blob([html], { type: 'text/html' });
        var url = URL.createObjectURL(blob);
        var a = document.createElement('a');
        a.href = url;
        a.download = websiteData.businessName.replace(/\s+/g, '-') + '-site.html';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
        showNotification('‚úÖ Site t√©l√©charg√© !');
    }

    function showNotification(message) {
        var notification = document.getElementById('notification');
        var text = document.getElementById('notificationText');
        if (notification && text) {
            text.textContent = message;
            notification.style.display = 'block';
            setTimeout(function() { notification.style.display = 'none'; }, 3000);
        }
    }

    // Navigation globale
    window.showPage = function(pageId) {
        document.querySelectorAll('.page-content').forEach(function(page) {
            page.style.display = 'none';
        });
        var selectedPage = document.getElementById('page-' + pageId);
        if (selectedPage) {
            selectedPage.style.display = 'block';
        }
    };
    </script>
</body>
</html>
