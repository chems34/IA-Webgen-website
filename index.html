<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IA WebGen - Cr√©ateur de Sites Web Automatis√©</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-hover:hover { transform: translateY(-5px); transition: transform 0.3s ease; }
        .fade-in { animation: fadeIn 0.8s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .preview-section { display: none; }
        .auth-section { display: none; }
        .edit-section { display: none; }
        .payment-section { display: none; }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); }
        .modal-content { background-color: white; margin: 5% auto; padding: 20px; border-radius: 10px; width: 90%; max-width: 800px; max-height: 80vh; overflow-y: auto; }
        .share-buttons { position: fixed; top: 20px; right: 20px; z-index: 100; }
        .notification { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 1001; display: none; }
    </style>
</head>
<body class="font-sans">
    
    <!-- Notification -->
    <div id="notification" class="notification bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg">
        <span id="notificationText">Message</span>
    </div>

    <!-- Boutons de partage -->
    <div class="share-buttons">
        <div class="bg-white rounded-lg shadow-lg p-3">
            <p class="text-sm font-bold text-gray-800 mb-2">üéÅ Partager & √âconomiser</p>
            <div class="flex gap-2">
                <button onclick="shareOnFacebook()" class="bg-blue-600 text-white p-2 rounded hover:bg-blue-700 text-xs">
                    <i class="fab fa-facebook-f"></i>
                </button>
                <button onclick="shareOnTwitter()" class="bg-blue-400 text-white p-2 rounded hover:bg-blue-500 text-xs">
                    <i class="fab fa-twitter"></i>
                </button>
                <button onclick="shareOnWhatsApp()" class="bg-green-500 text-white p-2 rounded hover:bg-green-600 text-xs">
                    <i class="fab fa-whatsapp"></i>
                </button>
                <button onclick="copyLink()" class="bg-gray-600 text-white p-2 rounded hover:bg-gray-700 text-xs">
                    <i class="fas fa-link"></i>
                </button>
            </div>
            <p class="text-xs text-gray-600 mt-1">Partagez pour 10% de r√©duction !</p>
        </div>
    </div>

    <!-- Header -->
    <div class="gradient-bg text-white py-4 fade-in">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center flex-wrap">
                <h1 class="text-2xl font-bold">ü§ñ IA WebGen</h1>
                <div class="flex items-center gap-4">
                    <div class="text-sm">
                        <span class="bg-green-500 px-3 py-1 rounded-full text-xs sm:text-sm">
                            ‚ú® 78% choisissent notre service conciergerie !
                        </span>
                    </div>
                    <div id="authButtons" class="flex gap-2">
                        <button onclick="showLogin()" class="bg-white bg-opacity-20 px-4 py-2 rounded text-sm hover:bg-opacity-30">
                            <i class="fas fa-sign-in-alt"></i> Connexion
                        </button>
                        <button onclick="showRegister()" class="bg-green-500 px-4 py-2 rounded text-sm hover:bg-green-600">
                            <i class="fas fa-user-plus"></i> S'inscrire
                        </button>
                    </div>
                    <div id="userMenu" class="hidden">
                        <span id="userName" class="text-sm mr-4"></span>
                        <button onclick="logout()" class="bg-red-500 px-3 py-1 rounded text-sm hover:bg-red-600">
                            <i class="fas fa-sign-out-alt"></i> D√©connexion
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Section principale -->
    <div id="mainSection">
        <!-- Hero Section -->
        <section class="gradient-bg text-white py-20 fade-in">
            <div class="container mx-auto px-4 text-center">
                <h2 class="text-3xl sm:text-5xl font-bold mb-6">
                    üöÄ Cr√©ez votre site web en quelques minutes
                </h2>
                <p class="text-lg sm:text-xl mb-8 opacity-90">
                    Intelligence artificielle + Service conciergerie automatis√© = Votre site en ligne en 2-4h !
                </p>
                
                <div class="bg-white bg-opacity-10 backdrop-filter backdrop-blur-lg rounded-lg p-6 sm:p-8 max-w-md mx-auto">
                    <h3 class="text-xl sm:text-2xl font-bold mb-6">üéØ Cr√©er mon site maintenant</h3>
                    
                    <form id="websiteForm" class="space-y-4">
                        <input type="text" id="businessName" placeholder="Nom de votre entreprise" 
                               class="w-full p-3 rounded-lg text-gray-800 font-medium" required>
                        
                        <textarea id="description" placeholder="D√©crivez votre activit√© (ex: Restaurant italien, Salon de coiffure...)" 
                                  class="w-full p-3 rounded-lg text-gray-800 font-medium h-24" required></textarea>
                        
                        <select id="siteType" class="w-full p-3 rounded-lg text-gray-800 font-medium" required>
                            <option value="">Choisissez le type de site</option>
                            <option value="restaurant">üçΩÔ∏è Restaurant</option>
                            <option value="salon">üíá Salon de beaut√©</option>
                            <option value="commerce">üè™ Commerce/Boutique</option>
                            <option value="service">üîß Service professionnel</option>
                            <option value="medical">üè• Cabinet m√©dical</option>
                            <option value="immobilier">üè† Immobilier</option>
                            <option value="autre">‚ú® Autre activit√©</option>
                        </select>
                        
                        <input type="email" id="userEmail" placeholder="Votre email pour recevoir le site" 
                               class="w-full p-3 rounded-lg text-gray-800 font-medium" required>
                        
                        <button type="submit" class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg transform hover:scale-105 transition-all duration-200">
                            üëÅÔ∏è VOIR LA PR√âVISUALISATION GRATUITE
                        </button>
                    </form>
                </div>
            </div>
        </section>

        <!-- Service Conciergerie -->
        <section class="py-16 bg-gray-50 fade-in">
            <div class="container mx-auto px-4">
                <div class="text-center mb-12">
                    <h3 class="text-3xl sm:text-4xl font-bold text-gray-800 mb-4">
                        ü§ñ Service Conciergerie Automatis√©
                    </h3>
                    <p class="text-lg sm:text-xl text-gray-600">
                        78% de nos clients choisissent notre automatisation compl√®te !
                    </p>
                </div>

                <div class="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto">
                    <!-- Offre Site Seul -->
                    <div class="bg-white rounded-lg shadow-lg p-6 sm:p-8 card-hover">
                        <div class="text-center">
                            <h4 class="text-xl sm:text-2xl font-bold text-gray-800 mb-4">üìÑ Site Seul</h4>
                            <div class="text-3xl sm:text-4xl font-bold text-blue-600 mb-4">15‚Ç¨</div>
                            <ul class="text-left space-y-2 mb-6 text-sm sm:text-base">
                                <li>‚úÖ Site web cr√©√© par intelligence artificielle</li>
                                <li>‚úÖ Design professionnel adaptatif</li>
                                <li>‚úÖ Pr√©visualisation avant achat</li>
                                <li>‚úÖ Modifications illimit√©es</li>
                                <li>‚úÖ Code source complet inclus</li>
                                <li>‚úÖ Livraison par email instantan√©e</li>
                                <li>‚ùå Pas d'h√©bergement inclus</li>
                                <li>‚ùå Installation par vos soins</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Offre Conciergerie -->
                    <div class="bg-gradient-to-br from-green-500 to-blue-600 text-white rounded-lg shadow-lg p-6 sm:p-8 card-hover relative">
                        <div class="absolute -top-4 left-1/2 transform -translate-x-1/2 bg-orange-500 px-3 py-1 rounded-full text-xs sm:text-sm font-bold">
                            üî• LE PLUS POPULAIRE
                        </div>
                        <div class="text-center mt-4">
                            <h4 class="text-xl sm:text-2xl font-bold mb-4">ü§ñ Conciergerie Automatis√©e</h4>
                            <div class="text-3xl sm:text-4xl font-bold mb-4">49‚Ç¨</div>
                            <ul class="text-left space-y-2 mb-6 text-sm sm:text-base">
                                <li>‚úÖ Tout inclus de l'offre Site Seul</li>
                                <li>‚úÖ <strong>Nom de domaine achet√© automatiquement</strong></li>
                                <li>‚úÖ <strong>H√©bergement web configur√© automatiquement</strong></li>
                                <li>‚úÖ <strong>Site mis en ligne en 2-4h maximum</strong></li>
                                <li>‚úÖ <strong>Certificat SSL et DNS automatiques</strong></li>
                                <li>‚úÖ <strong>Support technique 3 mois inclus</strong></li>
                                <li>‚úÖ <strong>Surveillance et sauvegardes automatiques</strong></li>
                                <li>‚úÖ <strong>Email de confirmation d√©taill√©</strong></li>
                            </ul>
                            <div class="bg-yellow-400 text-gray-800 p-3 rounded-lg text-xs sm:text-sm font-bold mb-4">
                                ‚è∞ D√©lai garanti : 2-4 heures maximum !<br>
                                ü§ñ 100% automatis√© par intelligence artificielle
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Processus automatis√© -->
        <section class="py-16 fade-in">
            <div class="container mx-auto px-4">
                <h3 class="text-3xl sm:text-4xl font-bold text-center text-gray-800 mb-12">
                    ü§ñ Comment √ßa fonctionne ? (100% Automatis√©)
                </h3>
                
                <div class="max-w-6xl mx-auto">
                    <div class="grid sm:grid-cols-2 lg:grid-cols-5 gap-6">
                        <div class="text-center p-4">
                            <div class="bg-blue-500 text-white rounded-full w-12 h-12 sm:w-16 sm:h-16 flex items-center justify-center text-lg sm:text-2xl font-bold mx-auto mb-4">1</div>
                            <h4 class="font-bold text-base sm:text-lg mb-2">üìù Formulaire</h4>
                            <p class="text-gray-600 text-sm sm:text-base">Remplissez vos informations</p>
                        </div>
                        
                        <div class="text-center p-4">
                            <div class="bg-green-500 text-white rounded-full w-12 h-12 sm:w-16 sm:h-16 flex items-center justify-center text-lg sm:text-2xl font-bold mx-auto mb-4">2</div>
                            <h4 class="font-bold text-base sm:text-lg mb-2">üëÅÔ∏è Pr√©visualisation</h4>
                            <p class="text-gray-600 text-sm sm:text-base">Voyez votre site avant d'acheter</p>
                        </div>
                        
                        <div class="text-center p-4">
                            <div class="bg-purple-500 text-white rounded-full w-12 h-12 sm:w-16 sm:h-16 flex items-center justify-center text-lg sm:text-2xl font-bold mx-auto mb-4">3</div>
                            <h4 class="font-bold text-base sm:text-lg mb-2">‚úèÔ∏è Modifications</h4>
                            <p class="text-gray-600 text-sm sm:text-base">Personnalisez comme vous voulez</p>
                        </div>
                        
                        <div class="text-center p-4">
                            <div class="bg-orange-500 text-white rounded-full w-12 h-12 sm:w-16 sm:h-16 flex items-center justify-center text-lg sm:text-2xl font-bold mx-auto mb-4">4</div>
                            <h4 class="font-bold text-base sm:text-lg mb-2">üí≥ Paiement</h4>
                            <p class="text-gray-600 text-sm sm:text-base">PayPal s√©curis√© au prix exact</p>
                        </div>
                        
                        <div class="text-center p-4">
                            <div class="bg-red-500 text-white rounded-full w-12 h-12 sm:w-16 sm:h-16 flex items-center justify-center text-lg sm:text-2xl font-bold mx-auto mb-4">5</div>
                            <h4 class="font-bold text-base sm:text-lg mb-2">üìß Livraison</h4>
                            <p class="text-gray-600 text-sm sm:text-base">Recevez tout par email instantan√©ment</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact -->
        <section class="gradient-bg text-white py-16 fade-in">
            <div class="container mx-auto px-4 text-center">
                <h3 class="text-2xl sm:text-3xl font-bold mb-8">üí¨ Besoin d'aide ou d'informations ?</h3>
                <p class="text-lg sm:text-xl mb-8">Notre √©quipe est disponible pour vous accompagner dans votre projet !</p>
                <div class="flex flex-wrap justify-center gap-4">
                    <a href="mailto:contact@iawebgen.com" 
                       class="bg-white text-blue-600 px-6 py-3 rounded-lg font-bold hover:bg-gray-100 transition-colors">
                        üìß contact@iawebgen.com
                    </a>
                    <a href="https://www.paypal.com/paypalme/assakourc" target="_blank" 
                       class="bg-green-500 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-600 transition-colors">
                        üí≥ PayPal: assakourc
                    </a>
                </div>
                
                <div class="mt-8 text-sm opacity-75">
                    <p>ü§ñ Propuls√© par IA WebGen - Cr√©ation automatis√©e de sites web</p>
                    <p>‚ö° Service conciergerie disponible 24h/24 - D√©lai garanti 2-4 heures</p>
                    <p>üìß Email de confirmation et livraison automatique apr√®s chaque achat</p>
                </div>
            </div>
        </section>
    </div>

    <!-- Section Pr√©visualisation -->
    <div id="previewSection" class="preview-section min-h-screen bg-gray-100 py-8">
        <div class="container mx-auto px-4">
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold text-gray-800">
                        üéâ Pr√©visualisation de votre site : <span id="previewBusinessName"></span>
                    </h2>
                    <button onclick="goBackToMain()" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">
                        <i class="fas fa-arrow-left"></i> Retour
                    </button>
                </div>
                
                <div class="grid lg:grid-cols-2 gap-8">
                    <!-- Aper√ßu du site -->
                    <div>
                        <h3 class="text-lg font-bold mb-4">üì± Aper√ßu de votre site web</h3>
                        <div id="websitePreview" class="border-2 border-gray-300 rounded-lg p-4 bg-white min-h-96">
                            <!-- Le contenu sera g√©n√©r√© dynamiquement -->
                        </div>
                    </div>
                    
                    <!-- Options de personnalisation -->
                    <div>
                        <h3 class="text-lg font-bold mb-4">‚úèÔ∏è Personnalisez votre site</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-bold mb-2">Couleur principale</label>
                                <input type="color" id="primaryColor" value="#3b82f6" class="w-full h-10 rounded">
                            </div>
                            <div>
                                <label class="block text-sm font-bold mb-2">Titre principal</label>
                                <input type="text" id="mainTitle" class="w-full p-3 border rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-bold mb-2">Sous-titre</label>
                                <textarea id="subtitle" class="w-full p-3 border rounded-lg h-20"></textarea>
                            </div>
                            <div>
                                <label class="block text-sm font-bold mb-2">T√©l√©phone</label>
                                <input type="tel" id="phone" class="w-full p-3 border rounded-lg" placeholder="01 23 45 67 89">
                            </div>
                            <div>
                                <label class="block text-sm font-bold mb-2">Adresse</label>
                                <input type="text" id="address" class="w-full p-3 border rounded-lg" placeholder="123 Rue Example, Paris">
                            </div>
                            <button onclick="updatePreview()" class="w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600">
                                üîÑ Mettre √† jour l'aper√ßu
                            </button>
                        </div>
                        
                        <!-- Choix de l'offre -->
                        <div class="mt-8 border-t pt-6">
                            <h3 class="text-lg font-bold mb-4">üí≥ Choisissez votre offre</h3>
                            <div class="space-y-4">
                                <div class="border rounded-lg p-4 cursor-pointer hover:bg-blue-50" onclick="selectOffer('site', 15)">
                                    <div class="flex justify-between items-center">
                                        <div>
                                            <h4 class="font-bold">üìÑ Site Seul - 15‚Ç¨</h4>
                                            <p class="text-sm text-gray-600">Code source + Livraison email</p>
                                        </div>
                                        <input type="radio" name="offer" value="site" class="offer-radio">
                                    </div>
                                </div>
                                <div class="border rounded-lg p-4 cursor-pointer hover:bg-green-50 border-green-500" onclick="selectOffer('conciergerie', 49)">
                                    <div class="flex justify-between items-center">
                                        <div>
                                            <h4 class="font-bold">ü§ñ Conciergerie - 49‚Ç¨ ‚≠ê</h4>
                                            <p class="text-sm text-gray-600">Site + Domaine + H√©bergement + Mise en ligne</p>
                                        </div>
                                        <input type="radio" name="offer" value="conciergerie" class="offer-radio" checked>
                                    </div>
                                </div>
                            </div>
                            
                            <button id="payButton" onclick="processPayment()" class="w-full mt-6 bg-green-500 text-white py-3 px-6 rounded-lg font-bold hover:bg-green-600 transform hover:scale-105 transition-all">
                                üí≥ PAYER MAINTENANT - 49‚Ç¨
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal d'authentification -->
    <div id="authModal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-6">
                <h2 id="authModalTitle" class="text-2xl font-bold">Connexion</h2>
                <button onclick="closeAuthModal()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            
            <!-- Connexion -->
            <div id="loginForm" class="auth-section">
                <form onsubmit="login(event)" class="space-y-4">
                    <div>
                        <label class="block text-sm font-bold mb-2">Email</label>
                        <input type="email" id="loginEmail" class="w-full p-3 border rounded-lg" required>
                    </div>
                    <div>
                        <label class="block text-sm font-bold mb-2">Mot de passe</label>
                        <input type="password" id="loginPassword" class="w-full p-3 border rounded-lg" required>
                    </div>
                    <button type="submit" class="w-full bg-blue-500 text-white py-3 rounded-lg hover:bg-blue-600">
                        Se connecter
                    </button>
                </form>
                <p class="mt-4 text-center">
                    <a href="#" onclick="showRegisterForm()" class="text-blue-500 hover:underline">Pas de compte ? S'inscrire</a>
                </p>
            </div>
            
            <!-- Inscription -->
            <div id="registerForm" class="auth-section">
                <form onsubmit="register(event)" class="space-y-4">
                    <div>
                        <label class="block text-sm font-bold mb-2">Nom complet</label>
                        <input type="text" id="registerName" class="w-full p-3 border rounded-lg" required>
                    </div>
                    <div>
                        <label class="block text-sm font-bold mb-2">Email</label>
                        <input type="email" id="registerEmail" class="w-full p-3 border rounded-lg" required>
                    </div>
                    <div>
                        <label class="block text-sm font-bold mb-2">Mot de passe</label>
                        <input type="password" id="registerPassword" class="w-full p-3 border rounded-lg" required>
                    </div>
                    <button type="submit" class="w-full bg-green-500 text-white py-3 rounded-lg hover:bg-green-600">
                        S'inscrire
                    </button>
                </form>
                <p class="mt-4 text-center">
                    <a href="#" onclick="showLoginForm()" class="text-blue-500 hover:underline">D√©j√† un compte ? Se connecter</a>
                </p>
            </div>
        </div>
    </div>

    <script>
        // Variables globales
        let currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;
        let currentOffer = 'conciergerie';
        let currentPrice = 49;
        let websiteData = {};

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            if (currentUser) {
                showUserMenu();
            }
            
            const form = document.getElementById('websiteForm');
            if (form) {
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    generatePreview();
                });
            }
        });

        // Fonctions d'authentification
        function showLogin() {
            document.getElementById('authModalTitle').textContent = 'Connexion';
            document.getElementById('loginForm').style.display = 'block';
            document.getElementById('registerForm').style.display = 'none';
            document.getElementById('authModal').style.display = 'block';
        }

        function showRegister() {
            document.getElementById('authModalTitle').textContent = 'Inscription';
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('registerForm').style.display = 'block';
            document.getElementById('authModal').style.display = 'block';
        }

        function showLoginForm() {
            showLogin();
        }

        function showRegisterForm() {
            showRegister();
        }

        function closeAuthModal() {
            document.getElementById('authModal').style.display = 'none';
        }

        function login(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Simulation de connexion
            const user = { email, name: email.split('@')[0] };
            currentUser = user;
            localStorage.setItem('currentUser', JSON.stringify(user));
            
            showUserMenu();
            closeAuthModal();
            showNotification('Connexion r√©ussie !');
        }

        function register(event) {
            event.preventDefault();
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            
            // Simulation d'inscription
            const user = { email, name };
            currentUser = user;
            localStorage.setItem('currentUser', JSON.stringify(user));
            
            showUserMenu();
            closeAuthModal();
            showNotification('Inscription r√©ussie !');
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            document.getElementById('authButtons').style.display = 'flex';
            document.getElementById('userMenu').style.display = 'none';
            showNotification('D√©connexion r√©ussie !');
        }

        function showUserMenu() {
            document.getElementById('authButtons').style.display = 'none';
            document.getElementById('userMenu').style.display = 'block';
            document.getElementById('userName').textContent = `üëã ${currentUser.name}`;
        }

        // G√©n√©ration de la pr√©visualisation
        function generatePreview() {
            const businessName = document.getElementById('businessName').value.trim();
            const description = document.getElementById('description').value.trim();
            const siteType = document.getElementById('siteType').value;
            const userEmail = document.getElementById('userEmail').value.trim();

            if (!businessName || !description || !siteType || !userEmail) {
                showNotification('‚ùå Veuillez remplir tous les champs !');
                return;
            }

            websiteData = {
                businessName,
                description,
                siteType,
                userEmail,
                mainTitle: businessName,
                subtitle: description,
                primaryColor: '#3b82f6',
                phone: '',
                address: ''
            };

            // Pr√©-remplir les champs de personnalisation
            document.getElementById('previewBusinessName').textContent = businessName;
            document.getElementById('mainTitle').value = businessName;
            document.getElementById('subtitle').value = description;
            
            // G√©n√©rer l'aper√ßu
            updatePreview();
            
            // Afficher la section de pr√©visualisation
            document.getElementById('mainSection').style.display = 'none';
            document.getElementById('previewSection').style.display = 'block';
            
            window.scrollTo(0, 0);
        }

        function updatePreview() {
            const mainTitle = document.getElementById('mainTitle').value || websiteData.businessName;
            const subtitle = document.getElementById('subtitle').value || websiteData.description;
            const primaryColor = document.getElementById('primaryColor').value;
            const phone = document.getElementById('phone').value;
            const address = document.getElementById('address').value;

            // Mettre √† jour les donn√©es
            websiteData.mainTitle = mainTitle;
            websiteData.subtitle = subtitle;
            websiteData.primaryColor = primaryColor;
            websiteData.phone = phone;
            websiteData.address = address;

            // G√©n√©rer le contenu du site selon le type
            let siteContent = generateSiteContent();
            document.getElementById('websitePreview').innerHTML = siteContent;
        }

        function generateSiteContent() {
            const { mainTitle, subtitle, primaryColor, phone, address, siteType } = websiteData;
            
            let content = `
                <div style="background: linear-gradient(135deg, ${primaryColor}, #6366f1); color: white; padding: 20px; text-align: center; border-radius: 8px; margin-bottom: 20px;">
                    <h1 style="font-size: 2rem; font-weight: bold; margin-bottom: 10px;">${mainTitle}</h1>
                    <p style="font-size: 1.1rem; opacity: 0.9;">${subtitle}</p>
                </div>
                
                <div style="display: grid; gap: 20px; padding: 20px;">
            `;

            // Contenu sp√©cifique selon le type
            switch(siteType) {
                case 'restaurant':
                    content += `
                        <div style="background: #f9fafb; padding: 20px; border-radius: 8px;">
                            <h2 style="color: ${primaryColor}; font-size: 1.5rem; margin-bottom: 15px;">üçΩÔ∏è Notre Menu</h2>
                            <div style="display: grid; gap: 10px;">
                                <div>Entr√©es - √Ä partir de 8‚Ç¨</div>
                                <div>Plats principaux - √Ä partir de 15‚Ç¨</div>
                                <div>Desserts - √Ä partir de 6‚Ç¨</div>
                            </div>
                        </div>
                        <div style="background: #f9fafb; padding: 20px; border-radius: 8px;">
                            <h2 style="color: ${primaryColor}; font-size: 1.5rem; margin-bottom: 15px;">üìÖ Horaires</h2>
                            <p>Lundi - Dimanche: 12h - 14h & 19h - 22h</p>
                        </div>
                    `;
                    break;
                case 'salon':
                    content += `
                        <div style="background: #f9fafb; padding: 20px; border-radius: 8px;">
                            <h2 style="color: ${primaryColor}; font-size: 1.5rem; margin-bottom: 15px;">üíá Nos Services</h2>
                            <div style="display: grid; gap: 10px;">
                                <div>Coupe & Brushing - √Ä partir de 35‚Ç¨</div>
                                <div>Coloration - √Ä partir de 60‚Ç¨</div>
                                <div>Soins capillaires - √Ä partir de 25‚Ç¨</div>
                            </div>
                        </div>
                    `;
                    break;
                default:
                    content += `
                        <div style="background: #f9fafb; padding: 20px; border-radius: 8px;">
                            <h2 style="color: ${primaryColor}; font-size: 1.5rem; margin-bottom: 15px;">‚ú® Nos Services</h2>
                            <p>D√©couvrez nos services de qualit√© adapt√©s √† vos besoins.</p>
                        </div>
                    `;
            }

            if (phone || address) {
                content += `
                    <div style="background: #f9fafb; padding: 20px; border-radius: 8px;">
                        <h2 style="color: ${primaryColor}; font-size: 1.5rem; margin-bottom: 15px;">üìû Contact</h2>
                        ${phone ? `<p><strong>T√©l√©phone:</strong> ${phone}</p>` : ''}
                        ${address ? `<p><strong>Adresse:</strong> ${address}</p>` : ''}
                    </div>
                `;
            }

            content += `
                </div>
                <div style="text-align: center; padding: 20px; background: ${primaryColor}; color: white; border-radius: 8px;">
                    <p style="font-weight: bold;">Contactez-nous pour plus d'informations !</p>
                </div>
            `;

            return content;
        }

        function goBackToMain() {
            document.getElementById('previewSection').style.display = 'none';
            document.getElementById('mainSection').style.display = 'block';
        }

        function selectOffer(type, price) {
            currentOffer = type;
            currentPrice = price;
            
            // Mettre √† jour les radio buttons
            document.querySelectorAll('.offer-radio').forEach(radio => {
                radio.checked = radio.value === type;
            });
            
            // Mettre √† jour le bouton de paiement
            const payButton = document.getElementById('payButton');
            if (type === 'site') {
                payButton.innerHTML = 'üí≥ PAYER MAINTENANT - 15‚Ç¨';
                payButton.style.backgroundColor = '#3b82f6';
            } else {
                payButton.innerHTML = 'üí≥ PAYER MAINTENANT - 49‚Ç¨';
                payButton.style.backgroundColor = '#10b981';
            }
        }

        function processPayment() {
            if (!currentUser) {
                showNotification('‚ùå Vous devez √™tre connect√© pour effectuer un achat !');
                showLogin();
                return;
            }

            // Cr√©er l'URL PayPal avec le bon montant - NOUVEAUX LIENS FONCTIONNELS
            let paypalUrl;
            if (currentOffer === 'site') {
                // PayPal avec param√®tres corrects pour 15‚Ç¨
                paypalUrl = `https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&business=assakourc@gmail.com&item_name=Site+Web+Seul+-+IA+WebGen&amount=15.00&currency_code=EUR&return=${encodeURIComponent(window.location.href)}&cancel_return=${encodeURIComponent(window.location.href)}`;
            } else {
                // PayPal avec param√®tres corrects pour 49‚Ç¨
                paypalUrl = `https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&business=assakourc@gmail.com&item_name=Service+Conciergerie+Automatise+-+IA+WebGen&amount=49.00&currency_code=EUR&return=${encodeURIComponent(window.location.href)}&cancel_return=${encodeURIComponent(window.location.href)}`;
            }

            // Sauvegarder les donn√©es de commande
            const orderData = {
                user: currentUser,
                websiteData: websiteData,
                offer: currentOffer,
                price: currentPrice,
                date: new Date().toISOString()
            };
            localStorage.setItem('pendingOrder', JSON.stringify(orderData));

            // Message de confirmation
            const message = `üéâ Parfait ! Vous allez √™tre redirig√© vers PayPal pour payer ${currentPrice}‚Ç¨.\n\n` +
                          `üìß Apr√®s le paiement, vous recevrez imm√©diatement :\n` +
                          `‚Ä¢ Email de confirmation de commande\n` +
                          `‚Ä¢ ${currentOffer === 'site' ? 'Fichiers du site web' : 'Informations de mise en ligne'}\n` +
                          `‚Ä¢ Instructions d√©taill√©es\n\n` +
                          `Continuer vers PayPal ?`;

            if (confirm(message)) {
                // Simuler l'envoi de l'email de confirmation
                simulateEmailConfirmation();
                
                // Rediriger vers PayPal
                window.open(paypalUrl, '_blank');
                
                showNotification('üéâ Redirection vers PayPal... Email de confirmation envoy√© !');
            }
        }

        function simulateEmailConfirmation() {
            const orderData = JSON.parse(localStorage.getItem('pendingOrder'));
            if (!orderData) return;

            // Simuler l'envoi d'email (dans la vraie vie, cela serait fait c√¥t√© serveur)
            console.log('üìß EMAIL DE CONFIRMATION ENVOY√â √Ä:', orderData.websiteData.userEmail);
            console.log('üìÑ CONTENU:', {
                destinataire: orderData.websiteData.userEmail,
                sujet: `‚úÖ Confirmation de commande - ${orderData.websiteData.businessName}`,
                contenu: `
                Bonjour ${orderData.user.name},

                üéâ Nous avons bien re√ßu votre commande !

                üìã D√âTAILS DE VOTRE COMMANDE:
                ‚Ä¢ Site web: ${orderData.websiteData.businessName}
                ‚Ä¢ Type: ${orderData.websiteData.siteType}
                ‚Ä¢ Offre: ${orderData.offer === 'site' ? 'Site seul' : 'Service conciergerie'}
                ‚Ä¢ Prix: ${orderData.price}‚Ç¨

                ${orderData.offer === 'site' ? 
                    `üì¶ LIVRAISON IMM√âDIATE:
                    Vos fichiers sont en cours de pr√©paration et vous les recevrez dans les 15 minutes suivant le paiement.
                    
                    üìÅ CONTENU LIVR√â:
                    ‚Ä¢ Code HTML/CSS complet
                    ‚Ä¢ Images optimis√©es
                    ‚Ä¢ Instructions d'installation
                    ‚Ä¢ Documentation technique` :
                    
                    `üöÄ MISE EN LIGNE AUTOMATIQUE:
                    Votre site sera mis en ligne automatiquement dans les 2-4 heures suivant le paiement.
                    
                    üìã PROCESSUS AUTOMATIS√â:
                    ‚Ä¢ Achat automatique du nom de domaine
                    ‚Ä¢ Configuration de l'h√©bergement
                    ‚Ä¢ Installation du site
                    ‚Ä¢ Configuration SSL/DNS
                    ‚Ä¢ Tests de fonctionnement
                    
                    üìß Vous recevrez un nouvel email avec les d√©tails d'acc√®s d√®s que votre site sera en ligne.`
                }

                üí≥ PAIEMENT:
                Votre paiement PayPal est en cours de traitement.

                üìû SUPPORT:
                En cas de question, contactez-nous √† contact@iawebgen.com

                Merci de votre confiance !
                
                ü§ñ L'√©quipe IA WebGen
                `
            });

            // Afficher une notification de succ√®s
            setTimeout(() => {
                showNotification('üìß Email de confirmation envoy√© avec succ√®s !');
            }, 2000);
        }

        // Fonctions de partage
        function shareOnFacebook() {
            const url = window.location.href;
            const fbUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`;
            window.open(fbUrl, '_blank', 'width=600,height=400');
            showNotification('üéÅ Code de r√©duction: SHARE10 (10% de r√©duction) !');
        }

        function shareOnTwitter() {
            const url = window.location.href;
            const text = "ü§ñ D√©couvrez IA WebGen - Cr√©ateur de sites web automatis√© ! Site professionnel en 2-4h.";
            const twitterUrl = `https://twitter.com/intent/tweet?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`;
            window.open(twitterUrl, '_blank', 'width=600,height=400');
            showNotification('üéÅ Code de r√©duction: SHARE10 (10% de r√©duction) !');
        }

        function shareOnWhatsApp() {
            const url = window.location.href;
            const text = "ü§ñ Regarde √ßa ! IA WebGen cr√©e ton site web automatiquement en 2-4h : ";
            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(text + url)}`;
            window.open(whatsappUrl, '_blank');
            showNotification('üéÅ Code de r√©duction: SHARE10 (10% de r√©duction) !');
        }

        function copyLink() {
            navigator.clipboard.writeText(window.location.href).then(() => {
                showNotification('üîó Lien copi√© ! Code de r√©duction: SHARE10');
            });
        }

        // Fonction de notification
        function showNotification(message) {
            const notification = document.getElementById('notification');
            const text = document.getElementById('notificationText');
            text.textContent = message;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 5000);
        }
    </script>
</body>
</html>
