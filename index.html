<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IA WebGen - Créateur de Sites Web Automatisé</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-hover:hover { transform: translateY(-5px); transition: transform 0.3s ease; }
        .fade-in { animation: fadeIn 0.8s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .preview-section { display: none; }
        .quality-templates { display: none; }
        .photo-upload-area { border: 2px dashed #cbd5e0; border-radius: 8px; padding: 20px; text-align: center; transition: all 0.3s; }
        .photo-upload-area:hover { border-color: #3b82f6; background-color: #f0f9ff; }
        .photo-upload-area.drag-over { border-color: #10b981; background-color: #f0fdf4; }
        .template-card { cursor: pointer; transition: all 0.3s; border: 3px solid transparent; }
        .template-card:hover { transform: scale(1.02); box-shadow: 0 10px 25px rgba(0,0,0,0.15); }
        .template-card.selected { border: 3px solid #10b981; background: #f0fdf4; }
        .premium-badge { position: absolute; top: -8px; right: -8px; background: linear-gradient(45deg, #ffd700, #ffed4e); color: #1f2937; padding: 4px 8px; border-radius: 12px; font-size: 0.7rem; font-weight: bold; }
        .site-nav { position: sticky; top: 0; z-index: 50; backdrop-filter: blur(10px); }
        .page-content { display: none; }
        .page-content.active { display: block; }
        .nav-link { cursor: pointer; transition: all 0.3s; }
        .nav-link:hover { transform: translateY(-2px); }
        .nav-link.active { font-weight: bold; }
        .notification { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 1001; display: none; }
    </style>
</head>
<body class="font-sans">
    
    <!-- Notification -->
    <div id="notification" class="notification bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg">
        <span id="notificationText">Message</span>
    </div>

    <!-- Header -->
    <div class="gradient-bg text-white py-4 fade-in">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center flex-wrap">
                <h1 class="text-2xl font-bold">🤖 IA WebGen</h1>
                <div class="flex items-center gap-4">
                    <div class="text-sm">
                        <span class="bg-green-500 px-3 py-1 rounded-full text-xs sm:text-sm">
                            ✨ Créez votre site professionnel complet !
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Section principale -->
    <div id="mainSection">
        <!-- Hero Section -->
        <section class="gradient-bg text-white py-20 fade-in">
            <div class="container mx-auto px-4 text-center">
                <h2 class="text-3xl sm:text-5xl font-bold mb-6">
                    🚀 Créez Votre Site Web Professionnel Complet
                </h2>
                <p class="text-lg sm:text-xl mb-8 opacity-90">
                    Site professionnel avec toutes les pages : Accueil, À propos, Services, Portfolio, Blog, Contact !
                </p>
                
                <div class="bg-white bg-opacity-10 backdrop-filter backdrop-blur-lg rounded-lg p-6 sm:p-8 max-w-2xl mx-auto">
                    <h3 class="text-xl sm:text-2xl font-bold mb-6">🎯 Créer mon site professionnel</h3>
                    
                    <!-- Fonctionnalités incluses -->
                    <div class="mb-6 text-left bg-white bg-opacity-10 rounded-lg p-4">
                        <h4 class="font-bold mb-3">✨ Votre site comprendra :</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-2 text-sm">
                            <div>✅ 7 pages complètes</div>
                            <div>✅ Design responsive</div>
                            <div>✅ Navigation professionnelle</div>
                            <div>✅ SEO optimisé</div>
                            <div>✅ Formulaire de contact</div>
                            <div>✅ Section blog</div>
                            <div>✅ Galerie portfolio</div>
                            <div>✅ Optimisé mobile</div>
                        </div>
                    </div>
                    
                    <form id="websiteForm" class="space-y-4">
                        <div class="grid md:grid-cols-2 gap-4">
                            <input type="text" id="businessName" placeholder="Nom de votre entreprise" 
                                   class="w-full p-3 rounded-lg text-gray-800 font-medium" required>
                            
                            <select id="siteType" class="w-full p-3 rounded-lg text-gray-800 font-medium" required>
                                <option value="">Type d'activité</option>
                                <option value="restaurant">🍽️ Restaurant</option>
                                <option value="salon">💇 Salon de beauté</option>
                                <option value="commerce">🏪 Commerce/Boutique</option>
                                <option value="service">🔧 Service professionnel</option>
                                <option value="medical">🏥 Cabinet médical</option>
                                <option value="immobilier">🏠 Immobilier</option>
                                <option value="hotel">🏨 Hôtel</option>
                                <option value="fitness">💪 Salle de sport</option>
                                <option value="location-voiture">🚗 Location de voiture</option>
                                <option value="avocat">⚖️ Cabinet d'avocat</option>
                                <option value="photographe">📸 Photographe</option>
                                <option value="artisan">🔧 Artisan</option>
                                <option value="autre">✨ Autre activité</option>
                            </select>
                        </div>
                        
                        <textarea id="description" placeholder="Décrivez votre activité et vos services..." 
                                  class="w-full p-3 rounded-lg text-gray-800 font-medium h-24" required></textarea>
                        
                        <input type="email" id="userEmail" placeholder="Votre email" 
                               class="w-full p-3 rounded-lg text-gray-800 font-medium" required>
                        
                        <!-- Upload de photos -->
                        <div class="photo-upload-area" id="photoUploadArea">
                            <div class="mb-4">
                                <i class="fas fa-camera text-4xl text-blue-500 mb-2"></i>
                                <h4 class="text-gray-800 font-bold text-lg mb-2">📸 Ajoutez vos photos (optionnel)</h4>
                                <p class="text-gray-600 text-sm mb-4">
                                    Glissez vos images ici ou cliquez pour sélectionner
                                </p>
                                <input type="file" id="photoInput" multiple accept="image/*" class="hidden">
                                <button type="button" onclick="document.getElementById('photoInput').click()" 
                                        class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 text-sm">
                                    <i class="fas fa-upload mr-2"></i>Choisir des photos
                                </button>
                            </div>
                            <div id="photoPreview" class="grid grid-cols-3 gap-2 mt-4 hidden"></div>
                        </div>
                        
                        <button type="submit" class="w-full bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white font-bold py-4 px-6 rounded-lg transform hover:scale-105 transition-all duration-200 text-lg">
                            🎨 CRÉER MON SITE MAINTENANT
                        </button>
                    </form>
                </div>
            </div>
        </section>

        <!-- Avantages -->
        <section class="py-16 bg-gray-50 fade-in">
            <div class="container mx-auto px-4">
                <div class="text-center mb-12">
                    <h3 class="text-3xl sm:text-4xl font-bold text-gray-800 mb-4">
                        🏆 Pourquoi choisir IA WebGen ?
                    </h3>
                    <p class="text-lg sm:text-xl text-gray-600">
                        Création de sites web professionnels en quelques minutes
                    </p>
                </div>

                <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                    <div class="bg-white rounded-lg shadow-lg p-6 sm:p-8 card-hover text-center">
                        <div class="text-5xl mb-4">⚡</div>
                        <h4 class="text-xl font-bold text-gray-800 mb-2">Rapide</h4>
                        <p class="text-gray-600">Votre site créé en quelques minutes</p>
                    </div>

                    <div class="bg-white rounded-lg shadow-lg p-6 sm:p-8 card-hover text-center">
                        <div class="text-5xl mb-4">🎨</div>
                        <h4 class="text-xl font-bold text-gray-800 mb-2">Professionnel</h4>
                        <p class="text-gray-600">Designs modernes et élégants</p>
                    </div>

                    <div class="bg-white rounded-lg shadow-lg p-6 sm:p-8 card-hover text-center">
                        <div class="text-5xl mb-4">📱</div>
                        <h4 class="text-xl font-bold text-gray-800 mb-2">Responsive</h4>
                        <p class="text-gray-600">Parfait sur tous les écrans</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Section Templates -->
    <section id="qualityTemplates" class="quality-templates py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-gray-800 mb-4">🎨 Choisissez votre design</h3>
                <p class="text-xl text-gray-600">Sélectionnez le thème qui correspond à votre activité</p>
                <button onclick="goBackToMain()" class="mt-4 bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600">
                    <i class="fas fa-arrow-left mr-2"></i>Modifier les informations
                </button>
            </div>
            
            <div id="templateGrid" class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto">
                <!-- Les templates seront générés ici -->
            </div>
            
            <div class="text-center mt-8">
                <button onclick="proceedWithSelectedTemplate()" id="continueBtn" 
                        class="bg-green-500 text-white px-8 py-4 rounded-lg font-bold text-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                    <i class="fas fa-eye mr-2"></i>VOIR MON SITE
                </button>
            </div>
        </div>
    </section>

    <!-- Section Prévisualisation -->
    <section id="previewSection" class="preview-section min-h-screen bg-gray-100 py-8">
        <div class="container mx-auto px-4">
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold text-gray-800">
                        🌐 Aperçu de votre site : <span id="previewBusinessName"></span>
                    </h2>
                    <div class="flex gap-3">
                        <button onclick="goBackToTemplates()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                            <i class="fas fa-palette mr-2"></i>Changer de design
                        </button>
                        <button onclick="goBackToMain()" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">
                            <i class="fas fa-edit mr-2"></i>Modifier infos
                        </button>
                    </div>
                </div>
                
                <div class="grid lg:grid-cols-2 gap-8">
                    <!-- Aperçu du site -->
                    <div>
                        <h3 class="text-lg font-bold mb-4">🖥️ Votre site web</h3>
                        <p class="text-sm text-gray-600 mb-4">Naviguez entre les pages de votre site :</p>
                        <div id="websitePreview" class="border-2 border-gray-300 rounded-lg bg-white overflow-auto" style="height: 600px;">
                            <div style="padding: 20px; text-align: center; color: #6b7280;">
                                <i class="fas fa-spinner fa-spin" style="font-size: 2rem; margin-bottom: 10px;"></i>
                                <p>Génération de votre site en cours...</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Options de personnalisation -->
                    <div>
                        <h3 class="text-lg font-bold mb-4">✏️ Personnalisez votre site</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-bold mb-2">Couleur principale</label>
                                <input type="color" id="primaryColor" value="#3b82f6" class="w-full h-10 rounded" onchange="updatePreview()">
                            </div>
                            <div>
                                <label class="block text-sm font-bold mb-2">Nom de l'entreprise</label>
                                <input type="text" id="mainTitle" class="w-full p-3 border rounded-lg" onchange="updatePreview()">
                            </div>
                            <div>
                                <label class="block text-sm font-bold mb-2">Description</label>
                                <textarea id="subtitle" class="w-full p-3 border rounded-lg h-20" onchange="updatePreview()"></textarea>
                            </div>
                            <div>
                                <label class="block text-sm font-bold mb-2">Téléphone</label>
                                <input type="tel" id="phone" class="w-full p-3 border rounded-lg" placeholder="01 23 45 67 89" onchange="updatePreview()">
                            </div>
                            <div>
                                <label class="block text-sm font-bold mb-2">Adresse</label>
                                <input type="text" id="address" class="w-full p-3 border rounded-lg" placeholder="123 Rue Example, Paris" onchange="updatePreview()">
                            </div>
                            <div>
                                <label class="block text-sm font-bold mb-2">Email</label>
                                <input type="email" id="businessEmail" class="w-full p-3 border rounded-lg" placeholder="contact@entreprise.fr" onchange="updatePreview()">
                            </div>
                            <button onclick="updatePreview()" class="w-full bg-blue-500 text-white py-3 rounded hover:bg-blue-600">
                                🔄 Mettre à jour
                            </button>
                        </div>
                        
                        <!-- Action finale -->
                        <div class="mt-8 border-t pt-6">
                            <h3 class="text-lg font-bold mb-4">💾 Télécharger votre site</h3>
                            <button onclick="downloadSite()" class="w-full bg-gradient-to-r from-green-500 to-blue-500 text-white py-4 px-6 rounded-lg font-bold text-lg hover:from-green-600 hover:to-blue-600 transform hover:scale-105 transition-all">
                                📥 TÉLÉCHARGER MON SITE
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Variables globales
        let websiteData = {};
        let selectedTemplate = null;
        let uploadedPhotos = [];

        // Templates disponibles
        const TEMPLATES = [
            {
                id: 'modern-clean',
                name: 'Modern Clean',
                description: 'Design épuré et moderne',
                isPremium: false,
                colors: { primary: '#3b82f6', secondary: '#1e40af' },
                gradient: 'from-blue-400 to-blue-600'
            },
            {
                id: 'business-pro',
                name: 'Business Pro',
                description: 'Professionnel et élégant',
                isPremium: false,
                colors: { primary: '#374151', secondary: '#111827' },
                gradient: 'from-gray-600 to-gray-800'
            },
            {
                id: 'creative-studio',
                name: 'Creative Studio',
                description: 'Créatif et artistique',
                isPremium: false,
                colors: { primary: '#f59e0b', secondary: '#dc2626' },
                gradient: 'from-orange-400 to-red-500'
            },
            {
                id: 'fresh-green',
                name: 'Fresh Green',
                description: 'Nature et éco-responsable',
                isPremium: false,
                colors: { primary: '#10b981', secondary: '#047857' },
                gradient: 'from-green-400 to-emerald-600'
            },
            {
                id: 'tech-innovation',
                name: 'Tech Innovation',
                description: 'High-tech et futuriste',
                isPremium: false,
                colors: { primary: '#8b5cf6', secondary: '#7c3aed' },
                gradient: 'from-purple-500 to-cyan-500'
            },
            {
                id: 'warm-elegance',
                name: 'Warm Elegance',
                description: 'Chaleureux et accueillant',
                isPremium: false,
                colors: { primary: '#f97316', secondary: '#ea580c' },
                gradient: 'from-orange-500 to-amber-600'
            }
        ];

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 IA WebGen démarré');
            
            const form = document.getElementById('websiteForm');
            if (form) {
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    generateTemplates();
                });
            }

            setupPhotoUpload();
        });

        // Configuration upload photos
        function setupPhotoUpload() {
            const uploadArea = document.getElementById('photoUploadArea');
            const photoInput = document.getElementById('photoInput');
            
            if (!uploadArea || !photoInput) return;
            
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.classList.add('drag-over');
            });
            
            uploadArea.addEventListener('dragleave', () => {
                uploadArea.classList.remove('drag-over');
            });
            
            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('drag-over');
                handleFiles(e.dataTransfer.files);
            });
            
            photoInput.addEventListener('change', (e) => {
                handleFiles(e.target.files);
            });
        }

        function handleFiles(files) {
            for (let file of files) {
                if (file.type.startsWith('image/') && file.size <= 5 * 1024 * 1024) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        uploadedPhotos.push({
                            name: file.name,
                            data: e.target.result
                        });
                        displayPhotoPreview();
                    };
                    reader.readAsDataURL(file);
                }
            }
        }

        function displayPhotoPreview() {
            const preview = document.getElementById('photoPreview');
            if (!preview) return;
            
            preview.innerHTML = '';
            preview.classList.remove('hidden');
            
            uploadedPhotos.forEach((photo, index) => {
                const div = document.createElement('div');
                div.className = 'relative';
                div.innerHTML = `
                    <img src="${photo.data}" alt="${photo.name}" class="w-full h-24 object-cover rounded">
                    <button onclick="removePhoto(${index})" class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 text-xs">×</button>
                `;
                preview.appendChild(div);
            });
        }

        function removePhoto(index) {
            uploadedPhotos.splice(index, 1);
            displayPhotoPreview();
            if (uploadedPhotos.length === 0) {
                document.getElementById('photoPreview').classList.add('hidden');
            }
        }

        // Génération des templates
        function generateTemplates() {
            const businessName = document.getElementById('businessName').value.trim();
            const description = document.getElementById('description').value.trim();
            const siteType = document.getElementById('siteType').value;
            const userEmail = document.getElementById('userEmail').value.trim();

            if (!businessName || !description || !siteType || !userEmail) {
                showNotification('❌ Veuillez remplir tous les champs !');
                return;
            }

            websiteData = {
                businessName,
                description,
                siteType,
                userEmail,
                photos: uploadedPhotos,
                mainTitle: businessName,
                subtitle: description,
                primaryColor: '#3b82f6',
                phone: '',
                address: '',
                businessEmail: ''
            };

            displayTemplates();
            
            document.getElementById('mainSection').style.display = 'none';
            document.getElementById('qualityTemplates').style.display = 'block';
            document.getElementById('previewSection').style.display = 'none';
            
            window.scrollTo(0, 0);
            showNotification('✅ Choisissez votre design !');
        }

        function displayTemplates() {
            const templateGrid = document.getElementById('templateGrid');
            if (!templateGrid) return;
            
            templateGrid.innerHTML = '';
            
            TEMPLATES.forEach((template, index) => {
                const templateCard = document.createElement('div');
                templateCard.className = 'template-card bg-white rounded-xl shadow-lg p-4 border-2 border-gray-200 relative hover:shadow-xl transition-all';
                templateCard.onclick = () => selectTemplate(index);
                
                templateCard.innerHTML = `
                    <div class="mb-4">
                        <div class="bg-gradient-to-br ${template.gradient} h-20 rounded-lg flex items-center justify-center text-white font-bold text-sm">
                            <div style="text-align: center;">
                                <div style="font-weight: bold;">VOTRE SITE</div>
                                <div style="font-size: 10px;">${template.name}</div>
                            </div>
                        </div>
                    </div>
                    <div class="text-center">
                        <h4 class="font-bold text-base mb-1">${template.name}</h4>
                        <p class="text-gray-600 text-xs mb-2">${template.description}</p>
                        <div class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded">
                            ✨ Gratuit
                        </div>
                    </div>
                `;
                
                templateGrid.appendChild(templateCard);
            });
        }

        function selectTemplate(index) {
            document.querySelectorAll('.template-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            const selectedCard = document.querySelectorAll('.template-card')[index];
            if (selectedCard) {
                selectedCard.classList.add('selected');
            }
            
            selectedTemplate = index;
            
            if (TEMPLATES[index]) {
                websiteData.primaryColor = TEMPLATES[index].colors.primary;
            }
            
            const continueBtn = document.getElementById('continueBtn');
            if (continueBtn) {
                continueBtn.disabled = false;
            }
            
            showNotification(`✅ Design "${TEMPLATES[index].name}" sélectionné !`);
        }

        function proceedWithSelectedTemplate() {
            if (selectedTemplate === null) {
                showNotification('❌ Veuillez sélectionner un design !');
                return;
            }
            
            document.getElementById('qualityTemplates').style.display = 'none';
            document.getElementById('previewSection').style.display = 'block';
            document.getElementById('mainSection').style.display = 'none';
            
            initializePreview();
            window.scrollTo(0, 0);
        }

        function initializePreview() {
            if (!websiteData.businessName) {
                showNotification('❌ Erreur dans les données');
                return;
            }

            const previewBusinessName = document.getElementById('previewBusinessName');
            const mainTitle = document.getElementById('mainTitle');
            const subtitle = document.getElementById('subtitle');
            const primaryColor = document.getElementById('primaryColor');
            
            if (previewBusinessName) previewBusinessName.textContent = websiteData.businessName;
            if (mainTitle) mainTitle.value = websiteData.businessName;
            if (subtitle) subtitle.value = websiteData.description;
            if (primaryColor) primaryColor.value = websiteData.primaryColor;
            
            setTimeout(() => {
                updatePreview();
            }, 100);
            
            showNotification('✅ Votre site est prêt !');
        }

        function updatePreview() {
            const mainTitleEl = document.getElementById('mainTitle');
            const subtitleEl = document.getElementById('subtitle');
            const primaryColorEl = document.getElementById('primaryColor');
            const phoneEl = document.getElementById('phone');
            const addressEl = document.getElementById('address');
            const businessEmailEl = document.getElementById('businessEmail');
            
            if (!mainTitleEl || !subtitleEl || !primaryColorEl) return;
            
            const mainTitle = mainTitleEl.value || websiteData.businessName;
            const subtitle = subtitleEl.value || websiteData.description;
            const primaryColor = primaryColorEl.value;
            const phone = phoneEl ? phoneEl.value : '';
            const address = addressEl ? addressEl.value : '';
            const businessEmail = businessEmailEl ? businessEmailEl.value : '';

            websiteData.mainTitle = mainTitle;
            websiteData.subtitle = subtitle;
            websiteData.primaryColor = primaryColor;
            websiteData.phone = phone;
            websiteData.address = address;
            websiteData.businessEmail = businessEmail;

            const siteContent = generateSiteContent();
            const previewEl = document.getElementById('websitePreview');
            
            if (previewEl && siteContent) {
                previewEl.innerHTML = siteContent;
            }
        }

        function generateSiteContent() {
            const { mainTitle, subtitle, primaryColor } = websiteData;
            const template = TEMPLATES[selectedTemplate];
            
            if (!template) {
                return '<div style="padding: 20px; text-align: center; color: red;">Erreur: Template non trouvé</div>';
            }
            
            let content = `
                <div class="site-nav" style="background: rgba(255,255,255,0.95); border-bottom: 1px solid #e5e7eb; padding: 15px 20px; position: sticky; top: 0;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div style="font-size: 1.5rem; font-weight: bold; color: ${primaryColor};">
                            ${mainTitle}
                        </div>
                        <div style="display: flex; gap: 20px; font-size: 0.9rem;">
                            <span class="nav-link active" onclick="showPage('accueil')" style="color: ${primaryColor}; font-weight: bold; cursor: pointer;">Accueil</span>
                            <span class="nav-link" onclick="showPage('apropos')" style="color: #6b7280; cursor: pointer;">À propos</span>
                            <span class="nav-link" onclick="showPage('services')" style="color: #6b7280; cursor: pointer;">Services</span>
                            <span class="nav-link" onclick="showPage('portfolio')" style="color: #6b7280; cursor: pointer;">Portfolio</span>
                            <span class="nav-link" onclick="showPage('blog')" style="color: #6b7280; cursor: pointer;">Blog</span>
                            <span class="nav-link" onclick="showPage('contact')" style="color: #6b7280; cursor: pointer;">Contact</span>
                        </div>
                    </div>
                </div>
            `;

            // Page Accueil
            content += `
                <div id="page-accueil" class="page-content active">
                    <div style="background: linear-gradient(135deg, ${primaryColor}, ${template.colors.secondary}); color: white; padding: 60px 20px; text-align: center;">
                        <h1 style="font-size: 2.5rem; font-weight: bold; margin-bottom: 20px;">${mainTitle}</h1>
                        <p style="font-size: 1.2rem; margin-bottom: 30px;">${subtitle}</p>
                        <button style="background: rgba(255,255,255,0.2); padding: 15px 30px; border: none; border-radius: 25px; color: white; font-weight: bold;">Découvrir nos services</button>
                    </div>
                    
                    <div style="padding: 60px 20px; background: white; text-align: center;">
                        <h2 style="font-size: 2rem; color: ${primaryColor}; margin-bottom: 40px;">Nos Avantages</h2>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 30px; max-width: 800px; margin: 0 auto;">
                            <div style="padding: 20px;">
                                <div style="font-size: 3rem; margin-bottom: 15px;">⚡</div>
                                <h3 style="color: ${primaryColor}; margin-bottom: 10px;">Rapidité</h3>
                                <p style="color: #666;">Service rapide et efficace</p>
                            </div>
                            <div style="padding: 20px;">
                                <div style="font-size: 3rem; margin-bottom: 15px;">🏆</div>
                                <h3 style="color: ${primaryColor}; margin-bottom: 10px;">Qualité</h3>
                                <p style="color: #666;">Excellence garantie</p>
                            </div>
                            <div style="padding: 20px;">
                                <div style="font-size: 3rem; margin-bottom: 15px;">💯</div>
                                <h3 style="color: ${primaryColor}; margin-bottom: 10px;">Satisfaction</h3>
                                <p style="color: #666;">Clients satisfaits</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            // Pages simplifiées
            content += generatePages();

            // Footer
            content += `
                <footer style="background: #1f2937; color: white; padding: 40px 20px; text-align: center;">
                    <h3 style="color: ${primaryColor}; margin-bottom: 20px;">${mainTitle}</h3>
                    <p style="margin-bottom: 20px;">Votre partenaire de confiance</p>
                    <p style="color: #9ca3af;">© ${new Date().getFullYear()} ${mainTitle}. Tous droits réservés.</p>
                </footer>
            `;

            // Script de navigation
            content += `
                <script>
                    function showPage(pageId) {
                        document.querySelectorAll('.page-content').forEach(page => {
                            page.style.display = 'none';
                        });
                        
                        const selectedPage = document.getElementById('page-' + pageId);
                        if (selectedPage) {
                            selectedPage.style.display = 'block';
                        }
                        
                        document.querySelectorAll('.nav-link').forEach(link => {
                            link.style.color = '#6b7280';
                            link.style.fontWeight = 'normal';
                        });
                        
                        event.target.style.color = '${primaryColor}';
                        event.target.style.fontWeight = 'bold';
                        
                        document.querySelector('#websitePreview').scrollTop = 0;
                    }
                </script>
            `;

            return content;
        }

        function generatePages() {
            const { primaryColor, mainTitle, phone, address, businessEmail } = websiteData;
            
            let pages = '';
            
            // Page À propos
            pages += `
                <div id="page-apropos" class="page-content" style="display: none;">
                    <div style="padding: 60px 20px; background: white;">
                        <div style="max-width: 800px; margin: 0 auto; text-align: center;">
                            <h1 style="font-size: 2.5rem; color: ${primaryColor}; margin-bottom: 30px;">À propos</h1>
                            <p style="font-size: 1.1rem; color: #4b5563; line-height: 1.7; margin-bottom: 40px;">
                                ${mainTitle} vous accompagne avec professionnalisme et expertise. Notre équipe s'engage à vous offrir des services de qualité.
                            </p>
                        </div>
                    </div>
                </div>
            `;
            
            // Page Services
            pages += `
                <div id="page-services" class="page-content" style="display: none;">
                    <div style="padding: 60px 20px; background: white;">
                        <div style="max-width: 1000px; margin: 0 auto;">
                            <h1 style="font-size: 2.5rem; color: ${primaryColor}; text-align: center; margin-bottom: 50px;">Nos Services</h1>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
                                <div style="background: #f8fafc; padding: 30px; border-radius: 15px; text-align: center;">
                                    <div style="font-size: 3rem; margin-bottom: 20px;">🎯</div>
                                    <h3 style="color: ${primaryColor}; font-weight: bold; margin-bottom: 15px;">Service Principal</h3>
                                    <p style="color: #6b7280;">Notre service phare adapté à vos besoins</p>
                                </div>
                                <div style="background: #f8fafc; padding: 30px; border-radius: 15px; text-align: center;">
                                    <div style="font-size: 3rem; margin-bottom: 20px;">⚡</div>
                                    <h3 style="color: ${primaryColor}; font-weight: bold; margin-bottom: 15px;">Service Express</h3>
                                    <p style="color: #6b7280;">Solution rapide pour urgences</p>
                                </div>
                                <div style="background: #f8fafc; padding: 30px; border-radius: 15px; text-align: center;">
                                    <div style="font-size: 3rem; margin-bottom: 20px;">💎</div>
                                    <h3 style="color: ${primaryColor}; font-weight: bold; margin-bottom: 15px;">Service Premium</h3>
                                    <p style="color: #6b7280;">Le meilleur de nos services</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Page Portfolio
            pages += `
                <div id="page-portfolio" class="page-content" style="display: none;">
                    <div style="padding: 60px 20px; background: white;">
                        <div style="max-width: 1000px; margin: 0 auto;">
                            <h1 style="font-size: 2.5rem; color: ${primaryColor}; text-align: center; margin-bottom: 50px;">Portfolio</h1>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
                                <div style="background: #f8fafc; padding: 30px; border-radius: 15px; text-align: center;">
                                    <div style="font-size: 4rem; margin-bottom: 20px;">🏆</div>
                                    <h3 style="color: ${primaryColor}; font-weight: bold; margin-bottom: 15px;">Projet Réussi</h3>
                                    <p style="color: #6b7280;">Un exemple de notre expertise</p>
                                </div>
                                <div style="background: #f8fafc; padding: 30px; border-radius: 15px; text-align: center;">
                                    <div style="font-size: 4rem; margin-bottom: 20px;">⭐</div>
                                    <h3 style="color: ${primaryColor}; font-weight: bold; margin-bottom: 15px;">Innovation</h3>
                                    <p style="color: #6b7280;">Solution créative et efficace</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Page Blog
            pages += `
                <div id="page-blog" class="page-content" style="display: none;">
                    <div style="padding: 60px 20px; background: white;">
                        <div style="max-width: 900px; margin: 0 auto;">
                            <h1 style="font-size: 2.5rem; color: ${primaryColor}; text-align: center; margin-bottom: 50px;">Blog</h1>
                            <div style="display: grid; gap: 30px;">
                                <article style="background: #f8fafc; padding: 30px; border-radius: 15px;">
                                    <h2 style="color: ${primaryColor}; font-size: 1.5rem; font-weight: bold; margin-bottom: 15px;">
                                        Actualités récentes
                                    </h2>
                                    <p style="color: #4b5563; line-height: 1.7;">
                                        Découvrez nos dernières actualités et conseils d'experts...
                                    </p>
                                    <div style="margin-top: 15px; color: #9ca3af; font-size: 0.9rem;">
                                        📅 ${new Date().toLocaleDateString('fr-FR')}
                                    </div>
                                </article>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Page Contact
            pages += `
                <div id="page-contact" class="page-content" style="display: none;">
                    <div style="padding: 60px 20px; background: white;">
                        <div style="max-width: 1000px; margin: 0 auto;">
                            <h1 style="font-size: 2.5rem; color: ${primaryColor}; text-align: center; margin-bottom: 50px;">Contact</h1>
                            <div style="background: #f8fafc; padding: 40px; border-radius: 15px; text-align: center;">
                                <h2 style="color: ${primaryColor}; font-size: 1.8rem; margin-bottom: 30px;">Contactez-nous</h2>
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 30px;">
                                    ${phone ? `
                                        <div>
                                            <div style="font-size: 2rem; margin-bottom: 10px;">📱</div>
                                            <h3 style="color: ${primaryColor}; font-weight: bold;">Téléphone</h3>
                                            <p style="color: #4b5563;">${phone}</p>
                                        </div>
                                    ` : ''}
                                    ${businessEmail ? `
                                        <div>
                                            <div style="font-size: 2rem; margin-bottom: 10px;">📧</div>
                                            <h3 style="color: ${primaryColor}; font-weight: bold;">Email</h3>
                                            <p style="color: #4b5563;">${businessEmail}</p>
                                        </div>
                                    ` : ''}
                                    ${address ? `
                                        <div>
                                            <div style="font-size: 2rem; margin-bottom: 10px;">📍</div>
                                            <h3 style="color: ${primaryColor}; font-weight: bold;">Adresse</h3>
                                            <p style="color: #4b5563;">${address}</p>
                                        </div>
                                    ` : ''}
                                    <div>
                                        <div style="font-size: 2rem; margin-bottom: 10px;">⏰</div>
                                        <h3 style="color: ${primaryColor}; font-weight: bold;">Horaires</h3>
                                        <p style="color: #4b5563;">Lun-Ven: 9h-18h</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            return pages;
        }

        // Navigation
        function goBackToMain() {
            document.getElementById('previewSection').style.display = 'none';
            document.getElementById('qualityTemplates').style.display = 'none';
            document.getElementById('mainSection').style.display = 'block';
            window.scrollTo(0, 0);
        }

        function goBackToTemplates() {
            document.getElementById('previewSection').style.display = 'none';
            document.getElementById('qualityTemplates').style.display = 'block';
            window.scrollTo(0, 0);
        }

        // Téléchargement du site
        function downloadSite() {
            showNotification('📥 Préparation du téléchargement...');
            
            // Générer le HTML complet du site
            const fullSiteHTML = generateFullSiteHTML();
            
            // Créer et télécharger le fichier
            const blob = new Blob([fullSiteHTML], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${websiteData.businessName.replace(/\s+/g, '-')}-site.html`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showNotification('✅ Site téléchargé avec succès !');
        }

        function generateFullSiteHTML() {
            const template = TEMPLATES[selectedTemplate];
            const { mainTitle, subtitle, primaryColor, phone, address, businessEmail } = websiteData;
            
            return `<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${mainTitle}</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        .nav-link { cursor: pointer; transition: all 0.3s; }
        .nav-link:hover { transform: translateY(-2px); }
        .page-content { display: none; }
        .page-content.active { display: block; }
    </style>
</head>
<body>
    ${generateSiteContent()}
</body>
</html>`;
        }

        function showNotification(message) {
            const notification = document.getElementById('notification');
            const text = document.getElementById('notificationText');
            if (notification && text) {
                text.textContent = message;
                notification.style.display = 'block';
                
                setTimeout(() => {
                    notification.style.display = 'none';
                }, 4000);
            }
        }
    </script>
</body>
</html>
